!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Chalks=t()}}(function(){return function(){return function t(e,r,n){function a(s,l){if(!r[s]){if(!e[s]){var u="function"==typeof require&&require;if(!l&&u)return u(s,!0);if(i)return i(s,!0);var o=new Error("Cannot find module '"+s+"'");throw o.code="MODULE_NOT_FOUND",o}var f=r[s]={exports:{}};e[s][0].call(f.exports,function(t){return a(e[s][1][t]||t)},f,f.exports,t,e,r,n)}return r[s].exports}for(var i="function"==typeof require&&require,s=0;s<n.length;s++)a(n[s]);return a}}()({1:[function(t,e,r){(function(){var t,n,a,i,s,l,u,o,f,c,h,d,p,b,g,y,m,v,x,w,k,M,_,N,A,j,O,P,E,S,C,z,B,q,V,G,L,I,F,R,Y,D,X,T,U,J,K,W,Z,$,Q,H,tt,et,rt,nt,at,it,st,lt,ut,ot,ft,ct,ht,dt,pt,bt,gt,yt,mt,vt,xt,wt,kt,Mt,_t,Nt,At,jt,Ot=[].slice;Mt=function(){var t,e,r,n,a;for(t={},n=0,e=(a="Boolean Number String Function Array Date RegExp Undefined Null".split(" ")).length;n<e;n++)r=a[n],t["[object "+r+"]"]=r.toLowerCase();return function(e){var r;return r=Object.prototype.toString.call(e),t[r]||"object"}}(),K=function(t,e,r){return null==e&&(e=0),null==r&&(r=1),t<e&&(t=e),t>r&&(t=r),t},_t=function(t){return t.length>=3?Array.prototype.slice.call(t):t[0]},k=function(t){var e,r;for(t._clipped=!1,t._unclipped=t.slice(0),e=r=0;r<3;e=++r)e<3?((t[e]<0||t[e]>255)&&(t._clipped=!0),t[e]<0&&(t[e]=0),t[e]>255&&(t[e]=255)):3===e&&(t[e]<0&&(t[e]=0),t[e]>1&&(t[e]=1));return t._clipped||delete t._unclipped,t},i=Math.PI,mt=Math.round,_=Math.cos,P=Math.floor,rt=Math.pow,W=Math.log,xt=Math.sin,wt=Math.sqrt,b=Math.atan2,Q=Math.max,p=Math.abs,u=2*i,s=i/3,n=i/180,l=180/i,(w=function(){return arguments[0]instanceof t?arguments[0]:function(t,e,r){r.prototype=t.prototype;var n=new r,a=t.apply(n,e);return Object(a)===a?a:n}(t,arguments,function(){})}).default=w,d=[],void 0!==e&&null!==e&&null!=e.exports&&(e.exports=w),(void 0!==r&&null!==r?r:this).chroma=w,w.version="1.4.1",h={},f=[],c=!1,t=function(){function t(){var t,e,r,n,a,i,s,l,u;for(i=this,e=[],l=0,n=arguments.length;l<n;l++)null!=(t=arguments[l])&&e.push(t);if(e.length>1&&(s=e[e.length-1]),null!=h[s])i._rgb=k(h[s](_t(e.slice(0,-1))));else{for(c||(f=f.sort(function(t,e){return e.p-t.p}),c=!0),u=0,a=f.length;u<a&&!(s=(r=f[u]).test.apply(r,e));u++);s&&(i._rgb=k(h[s].apply(h,e)))}null==i._rgb&&console.warn("unknown format: "+e),null==i._rgb&&(i._rgb=[0,0,0]),3===i._rgb.length&&i._rgb.push(1)}return t.prototype.toString=function(){return this.hex()},t}(),w._input=h,w.brewer=v={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},function(){var t,e;for(t in e=[],v)e.push(v[t.toLowerCase()]=v[t])}(),w.colors=Nt={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},D=function(){var t,e,r,n,i,s,l;return n=(e=_t(arguments))[0],t=e[1],r=e[2],s=(n+16)/116,i=isNaN(t)?s:s+t/500,l=isNaN(r)?s:s-r/200,s=a.Yn*X(s),i=a.Xn*X(i),l=a.Zn*X(l),[jt(3.2404542*i-1.5371385*s-.4985314*l),jt(-.969266*i+1.8760108*s+.041556*l),r=jt(.0556434*i-.2040259*s+1.0572252*l),e.length>3?e[3]:1]},jt=function(t){return 255*(t<=.00304?12.92*t:1.055*rt(t,1/2.4)-.055)},X=function(t){return t>a.t1?t*t*t:a.t2*(t-a.t0)},a={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},ft=function(){var t,e,r,n,a,i,s;return r=(n=_t(arguments))[0],e=n[1],t=n[2],i=(a=bt(r,e,t))[0],[116*(s=a[1])-16,500*(i-s),200*(s-a[2])]},gt=function(t){return(t/=255)<=.04045?t/12.92:rt((t+.055)/1.055,2.4)},At=function(t){return t>a.t3?rt(t,1/3):t/a.t2+a.t0},bt=function(){var t,e,r,n;return r=(n=_t(arguments))[0],e=n[1],t=n[2],r=gt(r),e=gt(e),t=gt(t),[At((.4124564*r+.3575761*e+.1804375*t)/a.Xn),At((.2126729*r+.7151522*e+.072175*t)/a.Yn),At((.0193339*r+.119192*e+.9503041*t)/a.Zn)]},w.lab=function(){return function(t,e,r){r.prototype=t.prototype;var n=new r,a=t.apply(n,e);return Object(a)===a?a:n}(t,Ot.call(arguments).concat(["lab"]),function(){})},h.lab=D,t.prototype.lab=function(){return ft(this._rgb)},g=function(t){var e,r,n,a,i,s,l,u,o,f,c;return 2===(t=function(){var e,r,n;for(n=[],r=0,e=t.length;r<e;r++)a=t[r],n.push(w(a));return n}()).length?(o=function(){var e,r,n;for(n=[],r=0,e=t.length;r<e;r++)a=t[r],n.push(a.lab());return n}(),i=o[0],s=o[1],e=function(t){var e,r;return r=function(){var r,n;for(n=[],e=r=0;r<=2;e=++r)n.push(i[e]+t*(s[e]-i[e]));return n}(),w.lab.apply(w,r)}):3===t.length?(f=function(){var e,r,n;for(n=[],r=0,e=t.length;r<e;r++)a=t[r],n.push(a.lab());return n}(),i=f[0],s=f[1],l=f[2],e=function(t){var e,r;return r=function(){var r,n;for(n=[],e=r=0;r<=2;e=++r)n.push((1-t)*(1-t)*i[e]+2*(1-t)*t*s[e]+t*t*l[e]);return n}(),w.lab.apply(w,r)}):4===t.length?(c=function(){var e,r,n;for(n=[],r=0,e=t.length;r<e;r++)a=t[r],n.push(a.lab());return n}(),i=c[0],s=c[1],l=c[2],u=c[3],e=function(t){var e,r;return r=function(){var r,n;for(n=[],e=r=0;r<=2;e=++r)n.push((1-t)*(1-t)*(1-t)*i[e]+3*(1-t)*(1-t)*t*s[e]+3*(1-t)*t*t*l[e]+t*t*t*u[e]);return n}(),w.lab.apply(w,r)}):5===t.length&&(r=g(t.slice(0,3)),n=g(t.slice(2,5)),e=function(t){return t<.5?r(2*t):n(2*(t-.5))}),e},w.bezier=function(t){var e;return(e=g(t)).scale=function(){return w.scale(e)},e},w.cubehelix=function(t,e,r,n,a){var i,s,l;return null==t&&(t=300),null==e&&(e=-1.5),null==r&&(r=1),null==n&&(n=1),null==a&&(a=[0,1]),i=0,"array"===Mt(a)?s=a[1]-a[0]:(s=0,a=[a,a]),(l=function(l){var o,f,c,h,d;return o=u*((t+120)/360+e*l),h=rt(a[0]+s*l,n),f=(0!==i?r[0]+l*i:r)*h*(1-h)/2,c=_(o),d=xt(o),w(k([255*(h+f*(-.14861*c+1.78277*d)),255*(h+f*(-.29227*c-.90649*d)),255*(h+f*(1.97294*c)),1]))}).start=function(e){return null==e?t:(t=e,l)},l.rotations=function(t){return null==t?e:(e=t,l)},l.gamma=function(t){return null==t?n:(n=t,l)},l.hue=function(t){return null==t?r:("array"===Mt(r=t)?0===(i=r[1]-r[0])&&(r=r[1]):i=0,l)},l.lightness=function(t){return null==t?a:("array"===Mt(t)?(a=t,s=t[1]-t[0]):(a=[t,t],s=0),l)},l.scale=function(){return w.scale(l)},l.hue(r),l},w.random=function(){var e,r;for("0123456789abcdef",e="#",r=0;r<6;++r)e+="0123456789abcdef".charAt(P(16*Math.random()));return new t(e)},d=[],w.interpolate=V=function(t,e,r,n){var a,i,s,l;for(null==r&&(r=.5),null==n&&(n="rgb"),"object"!==Mt(t)&&(t=w(t)),"object"!==Mt(e)&&(e=w(e)),s=0,i=d.length;s<i;s++)if(n===(a=d[s])[0]){l=a[1](t,e,r,n);break}if(null==l)throw"color mode "+n+" is not supported";return l.alpha(t.alpha()+r*(e.alpha()-t.alpha()))},t.prototype.interpolate=function(t,e,r){return V(this,t,e,r)},w.mix=V,t.prototype.mix=t.prototype.interpolate,h.rgb=function(){var t,e,r,n;for(t in r=[],e=_t(arguments))n=e[t],r.push(n);return r},w.rgb=function(){return function(t,e,r){r.prototype=t.prototype;var n=new r,a=t.apply(n,e);return Object(a)===a?a:n}(t,Ot.call(arguments).concat(["rgb"]),function(){})},t.prototype.rgb=function(t){return null==t&&(t=!0),t?this._rgb.map(Math.round).slice(0,3):this._rgb.slice(0,3)},t.prototype.rgba=function(t){return null==t&&(t=!0),t?[Math.round(this._rgb[0]),Math.round(this._rgb[1]),Math.round(this._rgb[2]),this._rgb[3]]:this._rgb.slice(0)},f.push({p:3,test:function(t){var e;return e=_t(arguments),"array"===Mt(e)&&3===e.length?"rgb":4===e.length&&"number"===Mt(e[3])&&e[3]>=0&&e[3]<=1?"rgb":void 0}}),h.lrgb=h.rgb,I=function(e,r,n,a){var i,s;return i=e._rgb,s=r._rgb,new t(wt(rt(i[0],2)*(1-n)+rt(s[0],2)*n),wt(rt(i[1],2)*(1-n)+rt(s[1],2)*n),wt(rt(i[2],2)*(1-n)+rt(s[2],2)*n),a)},o=function(e){var r,n,a,i,s;for(r=1/e.length,s=[0,0,0,0],a=0,n=e.length;a<n;a++)i=e[a]._rgb,s[0]+=rt(i[0],2)*r,s[1]+=rt(i[1],2)*r,s[2]+=rt(i[2],2)*r,s[3]+=i[3]*r;return s[0]=wt(s[0]),s[1]=wt(s[1]),s[2]=wt(s[2]),s[3]>1&&(s[3]=1),new t(k(s))},d.push(["lrgb",I]),w.average=function(t,e){var r,n,a,s,l,u,f,c,h,d,p,g,y;if(null==e&&(e="rgb"),h=t.length,f=(t=t.map(function(t){return w(t)})).splice(0,1)[0],"lrgb"===e)return o(t);for(c in s=[],l=0,u=0,g=f.get(e))g[c]=g[c]||0,s.push(isNaN(g[c])?0:1),"h"!==e.charAt(c)||isNaN(g[c])||(r=g[c]/180*i,l+=_(r),u+=xt(r));for(n=f.alpha(),p=0,d=t.length;p<d;p++)for(c in y=(a=t[p]).get(e),n+=a.alpha(),g)isNaN(y[c])||(s[c]+=1,"h"===e.charAt(c)?(r=y[c]/180*i,l+=_(r),u+=xt(r)):g[c]+=y[c]);for(c in g)if("h"===e.charAt(c)){for(r=b(u/s[c],l/s[c])/i*180;r<0;)r+=360;for(;r>=360;)r-=360;g[c]=r}else g[c]=g[c]/s[c];return w(g,e).alpha(n/h)},S=function(t){var e,r;if(t.match(/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/))return 4!==t.length&&7!==t.length||(t=t.substr(1)),3===t.length&&(t=(t=t.split(""))[0]+t[0]+t[1]+t[1]+t[2]+t[2]),[(r=parseInt(t,16))>>16,r>>8&255,255&r,1];if(t.match(/^#?([A-Fa-f0-9]{8})$/))return 9===t.length&&(t=t.substr(1)),[(r=parseInt(t,16))>>24&255,r>>16&255,r>>8&255,mt((255&r)/255*100)/100];if(null!=h.css&&(e=h.css(t)))return e;throw"unknown color: "+t},st=function(t,e){var r,n,a,i,s,l;return null==e&&(e="auto"),s=t[0],a=t[1],n=t[2],r=t[3],"auto"===e&&(e=r<1?"rgba":"rgb"),s=Math.round(s),a=Math.round(a),n=Math.round(n),l=(l="000000"+(s<<16|a<<8|n).toString(16)).substr(l.length-6),i=(i="0"+mt(255*r).toString(16)).substr(i.length-2),"#"+function(){switch(e.toLowerCase()){case"rgba":return l+i;case"argb":return i+l;default:return l}}()},h.hex=function(t){return S(t)},w.hex=function(){return function(t,e,r){r.prototype=t.prototype;var n=new r,a=t.apply(n,e);return Object(a)===a?a:n}(t,Ot.call(arguments).concat(["hex"]),function(){})},t.prototype.hex=function(t){return null==t&&(t="auto"),st(this._rgb,t)},f.push({p:4,test:function(t){if(1===arguments.length&&"string"===Mt(t))return"hex"}}),B=function(){var t,e,r,n,a,i,s,l,u,o,f,c,h,d;if(a=(t=_t(arguments))[0],f=t[1],s=t[2],0===f)u=n=e=255*s;else{for(d=[0,0,0],r=[0,0,0],c=2*s-(h=s<.5?s*(1+f):s+f-s*f),a/=360,d[0]=a+1/3,d[1]=a,d[2]=a-1/3,i=l=0;l<=2;i=++l)d[i]<0&&(d[i]+=1),d[i]>1&&(d[i]-=1),6*d[i]<1?r[i]=c+6*(h-c)*d[i]:2*d[i]<1?r[i]=h:3*d[i]<2?r[i]=c+(h-c)*(2/3-d[i])*6:r[i]=c;u=(o=[mt(255*r[0]),mt(255*r[1]),mt(255*r[2])])[0],n=o[1],e=o[2]}return t.length>3?[u,n,e,t[3]]:[u,n,e]},ut=function(t,e,r){var n,a,i,s,l;return void 0!==t&&t.length>=3&&(t=(s=t)[0],e=s[1],r=s[2]),t/=255,e/=255,r/=255,i=Math.min(t,e,r),a=((Q=Math.max(t,e,r))+i)/2,Q===i?(l=0,n=Number.NaN):l=a<.5?(Q-i)/(Q+i):(Q-i)/(2-Q-i),t===Q?n=(e-r)/(Q-i):e===Q?n=2+(r-t)/(Q-i):r===Q&&(n=4+(t-e)/(Q-i)),(n*=60)<0&&(n+=360),[n,l,a]},w.hsl=function(){return function(t,e,r){r.prototype=t.prototype;var n=new r,a=t.apply(n,e);return Object(a)===a?a:n}(t,Ot.call(arguments).concat(["hsl"]),function(){})},h.hsl=B,t.prototype.hsl=function(){return ut(this._rgb)},q=function(){var t,e,r,n,a,i,s,l,u,o,f,c,h,d,p,b,g,y;if(a=(t=_t(arguments))[0],b=t[1],y=t[2],y*=255,0===b)u=n=e=y;else switch(360===a&&(a=0),a>360&&(a-=360),a<0&&(a+=360),s=y*(1-b),l=y*(1-b*(r=(a/=60)-(i=P(a)))),g=y*(1-b*(1-r)),i){case 0:u=(o=[y,g,s])[0],n=o[1],e=o[2];break;case 1:u=(f=[l,y,s])[0],n=f[1],e=f[2];break;case 2:u=(c=[s,y,g])[0],n=c[1],e=c[2];break;case 3:u=(h=[s,l,y])[0],n=h[1],e=h[2];break;case 4:u=(d=[g,s,y])[0],n=d[1],e=d[2];break;case 5:u=(p=[y,s,l])[0],n=p[1],e=p[2]}return[u,n,e,t.length>3?t[3]:1]},ot=function(){var t,e,r,n,a,i,s,l,u;return i=(s=_t(arguments))[0],r=s[1],t=s[2],a=Math.min(i,r,t),e=(Q=Math.max(i,r,t))-a,u=Q/255,0===Q?(n=Number.NaN,l=0):(l=e/Q,i===Q&&(n=(r-t)/e),r===Q&&(n=2+(t-i)/e),t===Q&&(n=4+(i-r)/e),(n*=60)<0&&(n+=360)),[n,l,u]},w.hsv=function(){return function(t,e,r){r.prototype=t.prototype;var n=new r,a=t.apply(n,e);return Object(a)===a?a:n}(t,Ot.call(arguments).concat(["hsv"]),function(){})},h.hsv=q,t.prototype.hsv=function(){return ot(this._rgb)},tt=function(t){return"number"===Mt(t)&&t>=0&&t<=16777215?[t>>16,t>>8&255,255&t,1]:(console.warn("unknown num color: "+t),[0,0,0,1])},dt=function(){var t;return((t=_t(arguments))[0]<<16)+(t[1]<<8)+t[2]},w.num=function(e){return new t(e,"num")},t.prototype.num=function(t){return null==t&&(t="rgb"),dt(this._rgb,t)},h.num=tt,f.push({p:1,test:function(t){if(1===arguments.length&&"number"===Mt(t)&&t>=0&&t<=16777215)return"num"}}),E=function(){var t,e,r,n,a,i,s,l,u,o,f,c,h,d,p,b,g,y,m,v;if(l=(r=_t(arguments))[0],a=r[1],e=r[2],s=s/100*255,t=255*(a/=100),0===a)c=s=n=e;else switch(360===l&&(l=0),l>360&&(l-=360),l<0&&(l+=360),f=(o=e*(1-a))+t*(1-(i=(l/=60)-(u=P(l)))),m=o+t*i,v=o+t,u){case 0:c=(h=[v,m,o])[0],s=h[1],n=h[2];break;case 1:c=(d=[f,v,o])[0],s=d[1],n=d[2];break;case 2:c=(p=[o,v,m])[0],s=p[1],n=p[2];break;case 3:c=(b=[o,f,v])[0],s=b[1],n=b[2];break;case 4:c=(g=[m,o,v])[0],s=g[1],n=g[2];break;case 5:c=(y=[v,o,f])[0],s=y[1],n=y[2]}return[c,s,n,r.length>3?r[3]:1]},it=function(){var t,e,r,n,a,i,s,l,u;return l=(u=_t(arguments))[0],a=u[1],e=u[2],s=Math.min(l,a,e),r=100*(n=(Q=Math.max(l,a,e))-s)/255,t=s/(255-n)*100,0===n?i=Number.NaN:(l===Q&&(i=(a-e)/n),a===Q&&(i=2+(e-l)/n),e===Q&&(i=4+(l-a)/n),(i*=60)<0&&(i+=360)),[i,r,t]},w.hcg=function(){return function(t,e,r){r.prototype=t.prototype;var n=new r,a=t.apply(n,e);return Object(a)===a?a:n}(t,Ot.call(arguments).concat(["hcg"]),function(){})},h.hcg=E,t.prototype.hcg=function(){return it(this._rgb)},N=function(t){var e,r,n,a,i,s,l,u;if(t=t.toLowerCase(),null!=w.colors&&w.colors[t])return S(w.colors[t]);if(i=t.match(/rgb\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*\)/)){for(l=i.slice(1,4),a=s=0;s<=2;a=++s)l[a]=+l[a];l[3]=1}else if(i=t.match(/rgba\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*,\s*([01]|[01]?\.\d+)\)/))for(l=i.slice(1,5),a=u=0;u<=3;a=++u)l[a]=+l[a];else if(i=t.match(/rgb\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/)){for(l=i.slice(1,4),a=e=0;e<=2;a=++e)l[a]=mt(2.55*l[a]);l[3]=1}else if(i=t.match(/rgba\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/)){for(l=i.slice(1,5),a=r=0;r<=2;a=++r)l[a]=mt(2.55*l[a]);l[3]=+l[3]}else(i=t.match(/hsl\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/))?((n=i.slice(1,4))[1]*=.01,n[2]*=.01,(l=B(n))[3]=1):(i=t.match(/hsla\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/))&&((n=i.slice(1,4))[1]*=.01,n[2]*=.01,(l=B(n))[3]=+i[4]);return l},at=function(t){var e;return"rgb"===(e=t[3]<1?"rgba":"rgb")?e+"("+t.slice(0,3).map(mt).join(",")+")":"rgba"===e?e+"("+t.slice(0,3).map(mt).join(",")+","+t[3]+")":void 0},yt=function(t){return mt(100*t)/100},z=function(t,e){var r;return r=e<1?"hsla":"hsl",t[0]=yt(t[0]||0),t[1]=yt(100*t[1])+"%",t[2]=yt(100*t[2])+"%","hsla"===r&&(t[3]=e),r+"("+t.join(",")+")"},h.css=function(t){return N(t)},w.css=function(){return function(t,e,r){r.prototype=t.prototype;var n=new r,a=t.apply(n,e);return Object(a)===a?a:n}(t,Ot.call(arguments).concat(["css"]),function(){})},t.prototype.css=function(t){return null==t&&(t="rgb"),"rgb"===t.slice(0,3)?at(this._rgb):"hsl"===t.slice(0,3)?z(this.hsl(),this.alpha()):void 0},h.named=function(t){return S(Nt[t])},f.push({p:5,test:function(t){if(1===arguments.length&&null!=Nt[t])return"named"}}),t.prototype.name=function(t){var e,r;for(r in arguments.length&&(Nt[t]&&(this._rgb=S(Nt[t])),this._rgb[3]=1),e=this.hex("rgb"),Nt)if(e===Nt[r])return r;return e},T=function(){var t,e,r,a;return r=(a=_t(arguments))[0],t=a[1],e=a[2],[r,_(e*=n)*t,xt(e)*t]},U=function(){var t,e,r,n,a,i,s,l,u;return s=(r=_t(arguments))[0],a=r[1],i=r[2],t=(l=T(s,a,i))[0],e=l[1],n=l[2],[(u=D(t,e,n))[0],u[1],n=u[2],r.length>3?r[3]:1]},Y=function(){var t,e,r,n,a,i;return a=(i=_t(arguments))[0],t=i[1],e=i[2],r=wt(t*t+e*e),n=(b(e,t)*l+360)%360,0===mt(1e4*r)&&(n=Number.NaN),[a,r,n]},ct=function(){var t,e,r,n,a,i,s;return a=(i=_t(arguments))[0],r=i[1],e=i[2],n=(s=ft(a,r,e))[0],t=s[1],e=s[2],Y(n,t,e)},w.lch=function(){var e;return e=_t(arguments),new t(e,"lch")},w.hcl=function(){var e;return e=_t(arguments),new t(e,"hcl")},h.lch=U,h.hcl=function(){var t,e,r,n;return e=(n=_t(arguments))[0],t=n[1],r=n[2],U([r,t,e])},t.prototype.lch=function(){return ct(this._rgb)},t.prototype.hcl=function(){return ct(this._rgb).reverse()},nt=function(t){var e,r,n,a,i,s;return null==t&&(t="rgb"),i=(s=_t(arguments))[0],n=s[1],e=s[2],n/=255,e/=255,[(1-(i/=255)-(a=1-Math.max(i,Math.max(n,e))))*(r=a<1?1/(1-a):0),(1-n-a)*r,(1-e-a)*r,a]},M=function(){var t,e,r,n,a,i;return r=(e=_t(arguments))[0],a=e[1],i=e[2],n=e[3],t=e.length>4?e[4]:1,1===n?[0,0,0,t]:[r>=1?0:255*(1-r)*(1-n),a>=1?0:255*(1-a)*(1-n),i>=1?0:255*(1-i)*(1-n),t]},h.cmyk=function(){return M(_t(arguments))},w.cmyk=function(){return function(t,e,r){r.prototype=t.prototype;var n=new r,a=t.apply(n,e);return Object(a)===a?a:n}(t,Ot.call(arguments).concat(["cmyk"]),function(){})},t.prototype.cmyk=function(){return nt(this._rgb)},h.gl=function(){var t,e,r,n,a;for(n=function(){var t,r;for(e in r=[],t=_t(arguments))a=t[e],r.push(a);return r}.apply(this,arguments),t=r=0;r<=2;t=++r)n[t]*=255;return n},w.gl=function(){return function(t,e,r){r.prototype=t.prototype;var n=new r,a=t.apply(n,e);return Object(a)===a?a:n}(t,Ot.call(arguments).concat(["gl"]),function(){})},t.prototype.gl=function(){var t;return[(t=this._rgb)[0]/255,t[1]/255,t[2]/255,t[3]]},ht=function(t,e,r){var n;return t=(n=_t(arguments))[0],e=n[1],r=n[2],.2126*(t=Z(t))+.7152*(e=Z(e))+.0722*(r=Z(r))},Z=function(t){return(t/=255)<=.03928?t/12.92:rt((t+.055)/1.055,2.4)},R=function(e,r,n,a){var i,s;return i=e._rgb,s=r._rgb,new t(i[0]+n*(s[0]-i[0]),i[1]+n*(s[1]-i[1]),i[2]+n*(s[2]-i[2]),a)},d.push(["rgb",R]),t.prototype.luminance=function(t,e){var r,n,a,i,s;return null==e&&(e="rgb"),arguments.length?(i=this._rgb,0===t?i=[0,0,0,this._rgb[3]]:1===t?i=[255,255,255,this[3]]:(r=ht(this._rgb),n=1e-7,a=20,s=function(r,i){var l,u;return l=(u=r.interpolate(i,.5,e)).luminance(),Math.abs(t-l)<n||!a--?u:l>t?s(r,u):s(u,i)},i=r>t?s(w("black"),this).rgba():s(this,w("white")).rgba()),w(i).alpha(this.alpha())):ht(this._rgb)},kt=function(t){var e,r,n,a;return(a=t/100)<66?(n=255,r=-155.25485562709179-.44596950469579133*(r=a-2)+104.49216199393888*W(r),e=a<20?0:.8274096064007395*(e=a-10)-254.76935184120902+115.67994401066147*W(e)):(n=351.97690566805693+.114206453784165*(n=a-55)-40.25366309332127*W(n),r=325.4494125711974+.07943456536662342*(r=a-50)-28.0852963507957*W(r),e=255),[n,r,e]},pt=function(){var t,e,r,n,a,i,s;for(n=(a=_t(arguments))[0],a[1],t=a[2],r=1e3,e=4e4,.4;e-r>.4;)(i=kt(s=.5*(e+r)))[2]/i[0]>=t/n?e=s:r=s;return mt(s)},w.temperature=w.kelvin=function(){return function(t,e,r){r.prototype=t.prototype;var n=new r,a=t.apply(n,e);return Object(a)===a?a:n}(t,Ot.call(arguments).concat(["temperature"]),function(){})},h.temperature=h.kelvin=h.K=kt,t.prototype.temperature=function(){return pt(this._rgb)},t.prototype.kelvin=t.prototype.temperature,w.contrast=function(e,r){var n,a,i,s;return"string"!==(i=Mt(e))&&"number"!==i||(e=new t(e)),"string"!==(s=Mt(r))&&"number"!==s||(r=new t(r)),(n=e.luminance())>(a=r.luminance())?(n+.05)/(a+.05):(a+.05)/(n+.05)},w.distance=function(e,r,n){var a,i,s,l,u,o,f;for(i in null==n&&(n="lab"),"string"!==(u=Mt(e))&&"number"!==u||(e=new t(e)),"string"!==(o=Mt(r))&&"number"!==o||(r=new t(r)),s=e.get(n),l=r.get(n),f=0,s)f+=(a=(s[i]||0)-(l[i]||0))*a;return Math.sqrt(f)},w.deltaE=function(e,r,n,a){var s,l,u,o,f,c,h,d,g,y,m,v,x,w,k,M,N,A,j,O,P,E,S,C;for(null==n&&(n=1),null==a&&(a=1),"string"!==(k=Mt(e))&&"number"!==k||(e=new t(e)),"string"!==(M=Mt(r))&&"number"!==M||(r=new t(r)),s=(N=e.lab())[0],u=N[1],f=N[2],l=(A=r.lab())[0],o=A[1],c=A[2],h=wt(u*u+f*f),d=wt(o*o+c*c),O=s<16?.511:.040975*s/(1+.01765*s),j=.0638*h/(1+.0131*h)+.638,w=h<1e-6?0:180*b(f,u)/i;w<0;)w+=360;for(;w>=360;)w-=360;return P=w>=164&&w<=345?.56+p(.2*_(i*(w+168)/180)):.36+p(.4*_(i*(w+35)/180)),x=wt((g=h*h*h*h)/(g+1900)),wt((E=(s-l)/(n*O))*E+(S=(v=h-d)/(a*j))*S+((y=u-o)*y+(m=f-c)*m-v*v)/((C=j*(x*P+1-x))*C))},t.prototype.get=function(t){var e,r,n,a,i;return this,n=(a=t.split("."))[0],e=a[1],i=this[n](),e?(r=n.indexOf(e))>-1?i[r]:console.warn("unknown channel "+e+" in mode "+n):i},t.prototype.set=function(t,e){var r,n,a,i,s;if(this,a=(i=t.split("."))[0],r=i[1])if(s=this[a](),(n=a.indexOf(r))>-1)if("string"===Mt(e))switch(e.charAt(0)){case"+":case"-":s[n]+=+e;break;case"*":s[n]*=+e.substr(1);break;case"/":s[n]/=+e.substr(1);break;default:s[n]=+e}else s[n]=e;else console.warn("unknown channel "+r+" in mode "+a);else s=e;return w(s,a).alpha(this.alpha())},t.prototype.clipped=function(){return this._rgb._clipped||!1},t.prototype.alpha=function(t){return arguments.length?w.rgb([this._rgb[0],this._rgb[1],this._rgb[2],t]):this._rgb[3]},t.prototype.darken=function(t){var e;return null==t&&(t=1),this,(e=this.lab())[0]-=a.Kn*t,w.lab(e).alpha(this.alpha())},t.prototype.brighten=function(t){return null==t&&(t=1),this.darken(-t)},t.prototype.darker=t.prototype.darken,t.prototype.brighter=t.prototype.brighten,t.prototype.saturate=function(t){var e;return null==t&&(t=1),this,(e=this.lch())[1]+=t*a.Kn,e[1]<0&&(e[1]=0),w.lch(e).alpha(this.alpha())},t.prototype.desaturate=function(t){return null==t&&(t=1),this.saturate(-t)},t.prototype.premultiply=function(){var t,e;return e=this.rgb(),t=this.alpha(),w(e[0]*t,e[1]*t,e[2]*t,t)},H=function(t,e){return t*e/255},A=function(t,e){return t>e?e:t},J=function(t,e){return t>e?t:e},vt=function(t,e){return 255*(1-(1-t/255)*(1-e/255))},et=function(t,e){return e<128?2*t*e/255:255*(1-2*(1-t/255)*(1-e/255))},x=function(t,e){return 255*(1-(1-e/255)/(t/255))},j=function(t,e){return 255===t?255:(t=e/255*255/(1-t/255))>255?255:t},(y=function(t,e,r){if(!y[r])throw"unknown blend mode "+r;return y[r](t,e)}).normal=(m=function(t){return function(e,r){var n,a;return n=w(r).rgb(),a=w(e).rgb(),w(t(n,a),"rgb")}})((O=function(t){return function(e,r){var n,a,i;for(i=[],n=a=0;a<=3;n=++a)i[n]=t(e[n],r[n]);return i}})(function(t,e){return t})),y.multiply=m(O(H)),y.screen=m(O(vt)),y.overlay=m(O(et)),y.darken=m(O(A)),y.lighten=m(O(J)),y.dodge=m(O(j)),y.burn=m(O(x)),w.blend=y,w.analyze=function(t){var e,r,n,a;for(n={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0},r=0,e=t.length;r<e;r++)null==(a=t[r])||isNaN(a)||(n.values.push(a),n.sum+=a,a<n.min&&(n.min=a),a>n.max&&(n.max=a),n.count+=1);return n.domain=[n.min,n.max],n.limits=function(t,e){return w.limits(n,t,e)},n},w.scale=function(t,e){var r,n,a,i,s,l,u,o,f,c,h,d,p,b,g,y,m,v,x,k,M;return f="rgb",c=w("#ccc"),b=0,!1,s=[0,1],p=[],d=[0,0],r=!1,a=[],h=!1,o=0,u=1,i=!1,n={},g=!0,l=1,k=function(t){var e,r,n,i,s,l;if(null==t&&(t=["#fff","#000"]),null!=t&&"string"===Mt(t)&&null!=w.brewer&&(t=w.brewer[t]||w.brewer[t.toLowerCase()]||t),"array"===Mt(t)){for(1===t.length&&(t=[t[0],t[0]]),e=n=0,i=(t=t.slice(0)).length-1;0<=i?n<=i:n>=i;e=0<=i?++n:--n)r=t[e],"string"===Mt(r)&&(t[e]=w(r));for(p.length=0,e=l=0,s=t.length-1;0<=s?l<=s:l>=s;e=0<=s?++l:--l)p.push(e/(t.length-1))}return x(),a=t},m=function(t){var e,n;if(null!=r){for(n=r.length-1,e=0;e<n&&t>=r[e];)e++;return e-1}return 0},M=function(t){return t},function(t){var e,n,a,i,s;return s=t,r.length>2&&(i=r.length-1,e=m(t),a=r[0]+(r[1]-r[0])*(0+.5*b),n=r[i-1]+(r[i]-r[i-1])*(1-.5*b),s=o+(r[e]+.5*(r[e+1]-r[e])-a)/(n-a)*(u-o)),s},v=function(t,e){var i,s,h,b,y,v,x;if(null==e&&(e=!1),isNaN(t)||null===t)return c;if(x=e?t:r&&r.length>2?m(t)/(r.length-2):u!==o?(t-o)/(u-o):1,e||(x=M(x)),1!==l&&(x=rt(x,l)),x=d[0]+x*(1-d[0]-d[1]),x=Math.min(1,Math.max(0,x)),h=Math.floor(1e4*x),g&&n[h])i=n[h];else{if("array"===Mt(a))for(s=b=0,v=p.length-1;0<=v?b<=v:b>=v;s=0<=v?++b:--b){if(x<=(y=p[s])){i=a[s];break}if(x>=y&&s===p.length-1){i=a[s];break}if(x>y&&x<p[s+1]){x=(x-y)/(p[s+1]-y),i=w.interpolate(a[s],a[s+1],x,f);break}}else"function"===Mt(a)&&(i=a(x));g&&(n[h]=i)}return i},x=function(){return n={}},k(t),(y=function(t){var e;return e=w(v(t)),h&&e[h]?e[h]():e}).classes=function(t){var e;return null!=t?("array"===Mt(t)?(r=t,s=[t[0],t[t.length-1]]):(e=w.analyze(s),r=0===t?[e.min,e.max]:w.limits(e,"e",t)),y):r},y.domain=function(t){var e,r,n,i,l,f,c;if(!arguments.length)return s;if(o=t[0],u=t[t.length-1],p=[],n=a.length,t.length===n&&o!==u)for(l=0,i=t.length;l<i;l++)r=t[l],p.push((r-o)/(u-o));else for(e=c=0,f=n-1;0<=f?c<=f:c>=f;e=0<=f?++c:--c)p.push(e/(n-1));return s=[o,u],y},y.mode=function(t){return arguments.length?(f=t,x(),y):f},y.range=function(t,e){return k(t),y},y.out=function(t){return h=t,y},y.spread=function(t){return arguments.length?(b=t,y):b},y.correctLightness=function(t){return null==t&&(t=!0),i=t,x(),M=i?function(t){var e,r,n,a,i,s,l,u,o;for(e=v(0,!0).lab()[0],r=v(1,!0).lab()[0],l=e>r,n=v(t,!0).lab()[0],a=n-(i=e+(r-e)*t),u=0,o=1,s=20;Math.abs(a)>.01&&s-- >0;)l&&(a*=-1),a<0?(u=t,t+=.5*(o-t)):(o=t,t+=.5*(u-t)),n=v(t,!0).lab()[0],a=n-i;return t}:function(t){return t},y},y.padding=function(t){return null!=t?("number"===Mt(t)&&(t=[t,t]),d=t,y):d},y.colors=function(e,n){var i,l,u,o,f,c,h,d;if(arguments.length<2&&(n="hex"),f=[],0===arguments.length)f=a.slice(0);else if(1===e)f=[y(.5)];else if(e>1)l=s[0],i=s[1]-l,f=function(){c=[];for(var t=0;0<=e?t<e:t>e;0<=e?t++:t--)c.push(t);return c}.apply(this).map(function(t){return y(l+t/(e-1)*i)});else{if(t=[],h=[],r&&r.length>2)for(u=d=1,o=r.length;1<=o?d<o:d>o;u=1<=o?++d:--d)h.push(.5*(r[u-1]+r[u]));else h=s;f=h.map(function(t){return y(t)})}return w[n]&&(f=f.map(function(t){return t[n]()})),f},y.cache=function(t){return null!=t?(g=t,y):g},y.gamma=function(t){return null!=t?(l=t,y):l},y.nodata=function(t){return null!=t?(c=w(t),y):c},y},null==w.scales&&(w.scales={}),w.scales.cool=function(){return w.scale([w.hsl(180,1,.9),w.hsl(250,.7,.4)])},w.scales.hot=function(){return w.scale(["#000","#f00","#ff0","#fff"],[0,.25,.75,1]).mode("rgb")},w.analyze=function(t,e,r){var n,a,i,s,l,u;if(l={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0},null==r&&(r=function(){return!0}),n=function(t){null==t||isNaN(t)||(l.values.push(t),l.sum+=t,t<l.min&&(l.min=t),t>l.max&&(l.max=t),l.count+=1)},u=function(t,a){if(r(t,a))return null!=e&&"function"===Mt(e)?n(e(t)):null!=e&&"string"===Mt(e)||"number"===Mt(e)?n(t[e]):n(t)},"array"===Mt(t))for(s=0,i=t.length;s<i;s++)u(t[s]);else for(a in t)u(t[a],a);return l.domain=[l.min,l.max],l.limits=function(t,e){return w.limits(l,t,e)},l},w.limits=function(t,e,r){var n,a,i,s,l,u,o,f,c,h,d,b,g,y,m,v,x,k,M,_,N,A,j,O,E,S,C,z,B,q,V,G,L,I,F,R,Y,D,X,T,U,J,K,Z,$,H,tt,et,nt,at,it,st,lt,ut,ot;if(null==e&&(e="equal"),null==r&&(r=7),"array"===Mt(t)&&(t=w.analyze(t)),E=t.min,Q=t.max,t.sum,ut=t.values.sort(function(t,e){return t-e}),1===r)return[E,Q];if(j=[],"c"===e.substr(0,1)&&(j.push(E),j.push(Q)),"e"===e.substr(0,1)){for(j.push(E),_=V=1,F=r-1;1<=F?V<=F:V>=F;_=1<=F?++V:--V)j.push(E+_/r*(Q-E));j.push(Q)}else if("l"===e.substr(0,1)){if(E<=0)throw"Logarithmic scales are only possible for values > 0";for(S=Math.LOG10E*W(E),O=Math.LOG10E*W(Q),j.push(E),_=ot=1,R=r-1;1<=R?ot<=R:ot>=R;_=1<=R?++ot:--ot)j.push(rt(10,S+_/r*(O-S)));j.push(Q)}else if("q"===e.substr(0,1)){for(j.push(E),_=n=1,J=r-1;1<=J?n<=J:n>=J;_=1<=J?++n:--n)G=(ut.length-1)*_/r,(L=P(G))===G?j.push(ut[L]):(I=G-L,j.push(ut[L]*(1-I)+ut[L+1]*I));j.push(Q)}else if("k"===e.substr(0,1)){for(z=ut.length,y=new Array(z),k=new Array(r),at=!0,B=0,v=null,(v=[]).push(E),_=a=1,K=r-1;1<=K?a<=K:a>=K;_=1<=K?++a:--a)v.push(E+_/r*(Q-E));for(v.push(Q);at;){for(N=i=0,Z=r-1;0<=Z?i<=Z:i>=Z;N=0<=Z?++i:--i)k[N]=0;for(_=s=0,$=z-1;0<=$?s<=$:s>=$;_=0<=$?++s:--s){for(lt=ut[_],C=Number.MAX_VALUE,N=l=0,H=r-1;0<=H?l<=H:l>=H;N=0<=H?++l:--l)(M=p(v[N]-lt))<C&&(C=M,m=N);k[m]++,y[_]=m}for(q=new Array(r),N=u=0,tt=r-1;0<=tt?u<=tt:u>=tt;N=0<=tt?++u:--u)q[N]=null;for(_=o=0,et=z-1;0<=et?o<=et:o>=et;_=0<=et?++o:--o)null===q[x=y[_]]?q[x]=ut[_]:q[x]+=ut[_];for(N=f=0,nt=r-1;0<=nt?f<=nt:f>=nt;N=0<=nt?++f:--f)q[N]*=1/k[N];for(at=!1,N=c=0,Y=r-1;0<=Y?c<=Y:c>=Y;N=0<=Y?++c:--c)if(q[N]!==v[_]){at=!0;break}v=q,++B>200&&(at=!1)}for(A={},N=h=0,D=r-1;0<=D?h<=D:h>=D;N=0<=D?++h:--h)A[N]=[];for(_=d=0,X=z-1;0<=X?d<=X:d>=X;_=0<=X?++d:--d)A[x=y[_]].push(ut[_]);for(it=[],N=b=0,T=r-1;0<=T?b<=T:b>=T;N=0<=T?++b:--b)it.push(A[N][0]),it.push(A[N][A[N].length-1]);for(it=it.sort(function(t,e){return t-e}),j.push(it[0]),_=g=1,U=it.length-1;g<=U;_=g+=2)st=it[_],isNaN(st)||-1!==j.indexOf(st)||j.push(st)}return j},C=function(t,e,r){var n,a,i,l;return t=(n=_t(arguments))[0],e=n[1],r=n[2],isNaN(t)&&(t=0),(t/=360)<1/3?i=1-((a=(1-e)/3)+(l=(1+e*_(u*t)/_(s-u*t))/3)):t<2/3?a=1-((l=(1-e)/3)+(i=(1+e*_(u*(t-=1/3))/_(s-u*t))/3)):l=1-((i=(1-e)/3)+(a=(1+e*_(u*(t-=2/3))/_(s-u*t))/3)),[255*(l=K(r*l*3)),255*(i=K(r*i*3)),255*(a=K(r*a*3)),n.length>3?n[3]:1]},lt=function(){var t,e,r,n,a,i,s;return a=(i=_t(arguments))[0],e=i[1],t=i[2],u=2*Math.PI,a/=255,e/=255,t/=255,0===(s=1-Math.min(a,e,t)/(n=(a+e+t)/3))?r=0:(r=(a-e+(a-t))/2,r/=Math.sqrt((a-e)*(a-e)+(a-t)*(e-t)),r=Math.acos(r),t>e&&(r=u-r),r/=u),[360*r,s,n]},w.hsi=function(){return function(t,e,r){r.prototype=t.prototype;var n=new r,a=t.apply(n,e);return Object(a)===a?a:n}(t,Ot.call(arguments).concat(["hsi"]),function(){})},h.hsi=C,t.prototype.hsi=function(){return lt(this._rgb)},G=function(t,e,r,n){var a,i,s,l,u,o,f,c,h,d;return"hsl"===n?(h=t.hsl(),d=e.hsl()):"hsv"===n?(h=t.hsv(),d=e.hsv()):"hcg"===n?(h=t.hcg(),d=e.hcg()):"hsi"===n?(h=t.hsi(),d=e.hsi()):"lch"!==n&&"hcl"!==n||(n="hcl",h=t.hcl(),d=e.hcl()),"h"===n.substr(0,1)&&(i=h[0],f=h[1],l=h[2],s=d[0],c=d[1],u=d[2]),isNaN(i)||isNaN(s)?isNaN(i)?isNaN(s)?a=Number.NaN:(a=s,1!==l&&0!==l||"hsv"===n||(o=c)):(a=i,1!==u&&0!==u||"hsv"===n||(o=f)):a=i+r*(s>i&&s-i>180?s-(i+360):s<i&&i-s>180?s+360-i:s-i),null==o&&(o=f+r*(c-f)),w[n](a,o,l+r*(u-l))},F=function(t,e,r,n){var a,i;return a=t.num(),i=e.num(),w.num(a+(i-a)*r,"num")},(d=d.concat(function(){var t,e,r,n;for(n=[],e=0,t=(r=["hsv","hsl","hsi","hcl","lch","hcg"]).length;e<t;e++)$=r[e],n.push([$,G]);return n}())).push(["num",F]),L=function(e,r,n,a){var i,s;return i=e.lab(),s=r.lab(),new t(i[0]+n*(s[0]-i[0]),i[1]+n*(s[1]-i[1]),i[2]+n*(s[2]-i[2]),a)},d.push(["lab",L])}).call(this)},{}],2:[function(t,e,r){"use strict";e.exports=class{constructor(){this.branches={},this.fns=[]}add(t,e){return this.branches[e.name]={p:t,fun:e},this}run(t,e,r=10,n=!1){this.stop=r,this.it=0,this.debug=n,e&&e();let a=void 0;if(t instanceof Function)a=t;else{if(!(a=this.branches[t]))throw"Grammar error: "+a+" method not found. Did you add() it to the grammar?";a=a.fun}for(this.debug&&console.log("Starting grammar with "+a.name),this.fns.push(a);this.fns.length>0;)this.fns.shift()()}take(...t){if(this.it<this.stop){let e=random(t);if("function"==typeof e)this.it++,this.fns.push(e);else{if(!(e in this.branches))throw"Grammar error: "+e+" method not found. Did you add() it to the grammar?";this.debug&&console.log("Branching to "+this.branches[e].fun.name),this.it++,this.fns.push(this.branches[e].fun)}}else console.log("Stopped after "+this.stop+" iterations")}}},{}],3:[function(t,e,r){"use strict";let n=t("./Masonry").Masonry;e.exports=class{static grid(t,e,r,n){let a=[],i=r/t,s=n/e;for(let r=1;r<e;r++)for(let e=1;e<t;e++)a.push(createVector(e*i,r*s));return a}static spiral(t,e,r,n,a,i){let s=[],l=2*Math.PI,u=2*a*Math.PI,o=n/u,f=i/o;for(let n=0;n<t&&!(f>u);n++){let t=o*f,n=f+l,a=e+Math.cos(n)*t,u=r+Math.sin(n)*t;f+=i/t;let c=createVector(a,u);c.r=f,s.push(c)}return s}static rof3(t,e,r,n){let a=[],i=r/3,s=n/3;return a.push(createVector(i+t,s+e)),a.push(createVector(2*i+t,s+e)),a.push(createVector(2*i+t,2*s+e)),a.push(createVector(i+t,2*s+e)),a}static cols(t,e,r){let n=[];for(let a=t.x;a<r;a+=e)n.push(createVector(a,t.y));return n}static rows(t={x:0,y:0},e=10,r=100){let n=[];for(let a=t.y;a<r;a+=e)n.push(createVector(t.x,a));return n}static masonry(t,e,r,a){return new n(t,e,r,a)}}},{"./Masonry":4}],4:[function(t,e,r){"use strict";let n=t("./MasonryGrammar.js");class a{constructor(t,e,r,n){this.x=t,this.y=e,this.width=r,this.height=n}}e.exports.Masonry=class{constructor(t,e,r,n){return this.bricks=[],this.init(t,e,r,n),this.bricks}init(t,e,r,n){this.contextInfo(t,e,r),this.margin&&this.bricks.forEach(t=>{t.x+=n,t.y+=n,t.width-=n,t.width-=n})}contextInfo(t,e,r){var i=n.parse(r),s=[],l=t,u=e,o=0;for(this.bricks.push(new a(0,0,l,u)),s.push(o);i.length>0;){s.push(o);var f=this.bricks[o],c=i[0];if("|"==c.op){var h=this.bricks[o].x;this.bricks.splice(o,1);for(var d=0;d<c.values.length;d++)this.bricks.splice(o+d,0,new a(h,f.y,f.width*c.values[d],f.height)),h+=f.width*c.values[d];s.forEach(function(t,e){s[e]+=c.splits-1})}else if("-"==c.op){var p=this.bricks[o].y;for(this.bricks.splice(o,1),d=0;d<c.values.length;d++)this.bricks.splice(o+d,0,new a(f.x,p,f.width,f.height*c.values[d])),p+=f.height*c.values[d];s.forEach(function(t,e){s[e]+=c.splits-1})}else">"==c.op&&(o=s.shift());i=i.slice(1)}}}},{"./MasonryGrammar.js":5}],5:[function(t,e,r){e.exports=function(){function t(t){return'"'+t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E-\x1F\x80-\uFFFF]/g,escape)+'"'}var e={parse:function(e,r){var n={start:function(){var t,e;t=[],null===(e=c())&&(e=h());for(;null!==e;)t.push(e),null===(e=c())&&(e=h());return t},content:o,number:f,shortActions:c,moveForward:h};if(void 0!==r){if(void 0===n[r])throw new Error("Invalid rule name: "+t(r)+".")}else r="start";var a=0,i=0,s=0,l=[];function u(t){a<s||(a>s&&(s=a,l=[]),l.push(t))}function o(){var t,r,n,s,l,o,c;if(o=a,c=a,91===e.charCodeAt(a)?(t="[",a++):(t=null,0===i&&u('"["')),null!==t){if(null!==(n=f()))for(r=[];null!==n;)r.push(n),n=f();else r=null;null!==r?(93===e.charCodeAt(a)?(n="]",a++):(n=null,0===i&&u('"]"')),null!==n?(44===e.charCodeAt(a)?(s=",",a++):(s=null,0===i&&u('","')),null!==(s=null!==s?s:"")&&null!==(l=null!==(l=f())?l:"")?t=[t,r,n,s,l]:(t=null,a=c)):(t=null,a=c)):(t=null,a=c)}else t=null,a=c;return null!==t&&(t=function(t,e,r){var n=e.map(function(t){return t/100});return{splits:e.length,pos:r||0,values:n}}(0,t[1],t[4])),null===t&&(a=o),null===t&&(o=a,c=a,null!==(t=f())?(44===e.charCodeAt(a)?(r=",",a++):(r=null,0===i&&u('","')),null!==(r=null!==r?r:"")&&null!==(n=null!==(n=f())?n:"")?t=[t,r,n]:(t=null,a=c)):(t=null,a=c),null!==t&&(t=function(t,e,r){for(var n=[],a=0;a<e;a++)n[a]=1/e;return{splits:e,pos:r||0,values:n}}(0,t[0],t[2])),null===t&&(a=o)),t}function f(){var t,r,n,s,l,o,f,c;if(l=a,o=a,/^[0-9]/.test(e.charAt(a))?(r=e.charAt(a),a++):(r=null,0===i&&u("[0-9]")),null!==r)for(t=[];null!==r;)t.push(r),/^[0-9]/.test(e.charAt(a))?(r=e.charAt(a),a++):(r=null,0===i&&u("[0-9]"));else t=null;if(null!==t){if(f=a,46===e.charCodeAt(a)?(r=".",a++):(r=null,0===i&&u('"."')),null!==r){if(/^[0-9]/.test(e.charAt(a))?(s=e.charAt(a),a++):(s=null,0===i&&u("[0-9]")),null!==s)for(n=[];null!==s;)n.push(s),/^[0-9]/.test(e.charAt(a))?(s=e.charAt(a),a++):(s=null,0===i&&u("[0-9]"));else n=null;null!==n?r=[r,n]:(r=null,a=f)}else r=null,a=f;null!==(r=null!==r?r:"")?(44===e.charCodeAt(a)?(n=",",a++):(n=null,0===i&&u('","')),null!==(n=null!==n?n:"")?t=[t,r,n]:(t=null,a=o)):(t=null,a=o)}else t=null,a=o;return null!==t&&(c=t[0],t=parseFloat(c.join(""),10)),null===t&&(a=l),t}function c(){var t,r,n,s,l,f,c;return n=a,s=a,124===e.charCodeAt(a)?(t="|",a++):(t=null,0===i&&u('"|"')),null===t&&(45===e.charCodeAt(a)?(t="-",a++):(t=null,0===i&&u('"-"'))),null!==t&&null!==(r=null!==(r=o())?r:"")?t=[t,r]:(t=null,a=s),null!==t&&(l=t[0],f=t[1],c={op:l,splits:2,pos:0,values:[.5,.5]},null!=f&&f&&(c.splits=f.splits,c.pos=f.pos,c.values=f.values),t=c),null===t&&(a=n),t}function h(){var t,r,n,s;return n=a,s=a,62===e.charCodeAt(a)?(t=">",a++):(t=null,0===i&&u('">"')),null!==t&&null!==(r=null!==(r=f())?r:"")?t=[t,r]:(t=null,a=s),null!==t&&(t=function(t,e){var r={op:">",pos:"1"};return null!=e&&e&&(r.pos=e),r}(0,t[1])),null===t&&(a=n),t}var d=n[r]();if(null===d||a!==e.length){var p=Math.max(a,s),b=p<e.length?e.charAt(p):null,g=function(){for(var t=1,r=1,n=!1,i=0;i<Math.max(a,s);i++){var l=e.charAt(i);"\n"===l?(n||t++,r=1,n=!1):"\r"===l||"\u2028"===l||"\u2029"===l?(t++,r=1,n=!0):(r++,n=!1)}return{line:t,column:r}}();throw new this.SyntaxError(function(t){t.sort();for(var e=null,r=[],n=0;n<t.length;n++)t[n]!==e&&(r.push(t[n]),e=t[n]);return r}(l),b,p,g.line,g.column)}return d},toSource:function(){return this._source},SyntaxError:function(e,r,n,a,i){this.name="SyntaxError",this.expected=e,this.found=r,this.message=function(e,r){var n;switch(e.length){case 0:n="end of input";break;case 1:n=e[0];break;default:n=e.slice(0,e.length-1).join(", ")+" or "+e[e.length-1]}return"Expected "+n+" but "+(r?t(r):"end of input")+" found."}(e,r),this.offset=n,this.line=a,this.column=i}};return e.SyntaxError.prototype=Error.prototype,e}()},{}],6:[function(t,e,r){"use strict";e.exports=class{static butterflyCurve(t,e,r,n){let a=[],i=r*Math.PI;for(let r=0;r<i;r+=.025){let i=Math.exp(Math.cos(r))-2*Math.cos(n*r)-Math.pow(Math.sin(r/12),5),s=Math.sin(r)*i,l=Math.cos(r)*i;a.push(createVector(s*e+t.x,l*e+t.y))}return a}static hypocycloid(t,e,r,n,a){let i=[],s=r*Math.PI;for(let r=0;r<s;r+=.025){let s=(a-n)*Math.cos(r)+n*Math.cos((a-n)/n*r),l=(a-n)*Math.sin(r)-n*Math.sin((a-n)/n*r);i.push(createVector(s*e+t.x,l*e+t.y))}return i}static rose(t,e,r,n){let a=[],i=r*Math.PI;for(let t=0;t<i;t+=.025){let e=Math.cos(n*t)*Math.cos(t),r=Math.cos(n*t)*Math.sin(t);a.push(createVector(e,r))}return a}static rossler(t,e,r,n,a,i,s){function l(t,e,r,n,a,i){return{x:-(e+r),y:t+n*e,z:a+r*(t-i)}}let u=t.x,o=t.y,f=.1,c=.1,h=.1,d=0,p=0,b=0;for(let t=0;t<r;t++){let t=l(f,c,h,n,a,i);d=f+s*t.x,p=c+s*t.y,b=h+s*t.z,createVector(d*e+u,p*e+o,b),f=d,c=p,h=b}return[]}static lorentz(t,e,r,n,a,i,s,l,u,o){function f(t,e,r,n,a,i){return{x:n*(e-t),y:t*(a-r)-e,z:t*e-i*r}}let c=0,h=0,d=0,p=[];for(let b=0;b<r;b++){let r=f(n,a,i,s,l,u);c=n+o*r.x,h=a+o*r.y,d=i+o*r.z,p.push(createVector(c*e+t.x,h*e+t.y,d)),n=c,a=h,i=d}return p}static attractor(t,e,r){let n=[],a=[],i=.1,s=.1,l=360%r.length;for(let t=0;t<r.length;t++)n[t]=(r.charCodeAt(t)-65-12)/10;a.push({x:t.x+50*Math.cos(l),y:t.y+58*Math.sin(l),r:0});for(let r=0;r<e;r++){let e=n[0]+n[1]*i+n[2]*i*i+n[3]*i*s+n[4]*s+n[5]*s*s,r=n[6]+n[7]*i+n[8]*i*i+n[9]*i*s+n[10]*s+n[11]*s*s,l=t.x*e+t.x,u=t.y*r+t.y;a.push(createVector(Math.abs(l),Math.abs(u))),i=e,s=r}return a}static dejon(t,e,r,n,a,i=100,s=10){let l=[],u=1,o=1;for(let f=0;f<s;f++){let s=Math.sin(e*o)-Math.cos(r*u),f=Math.sin(n*u)-Math.cos(a*o);l.push(createVector(i*u+t.x+i,i*o+t.y-i)),u=s,o=f}return l}}},{}],7:[function(t,e,r){"use strict";t("chroma-js");class n{constructor(t,e={}){this.style=e,this.instrs=[],this.parent=t,this.ctx=t.ctx,this.clippedBy=void 0}clone(t={}){let e=JSON.parse(JSON.stringify(this.style));Object.keys(t).forEach(r=>e[r]=t[r]);let r=new n(this.parent,e);return delete r.style.hide,r.instrs=JSON.parse(JSON.stringify(this.instrs)),r}m(t,e){let r="object"==typeof t?{x:t.x,y:t.y}:{x:t,y:e};return this.instrs.push({instr:"m",p:r}),this}l(t,e){let r="object"==typeof t?{x:t.x,y:t.y}:{x:t,y:e};return this.instrs.push({instr:"l",p:r}),this}bezier(t,e,r){return this.instrs.push({instr:"b",c1:{x:t.x,y:t.y,z:t.z},c2:{x:e.x,y:e.y,z:e.z},p2:{x:r.x,y:r.y,z:r.z}}),this}bc(t){let e=this.instrs[this.instrs.length-1];if("b"!==e.instr)throw"Previous instruction to bc() must be bezier()";return this.bezier(Object.assign({},e.c1),Object.assign({},e.c2),t),this}arc(t,e,r){return this.instrs.push({instr:"a",p1:{x:t.x,y:t.y,z:t.z},p2:{x:e.x,y:e.y,z:e.z},r:r}),this}quad(t,e){return this.instrs.push({instr:"q",c:{x:t.x,y:t.y,z:t.z},p:{x:e.x,y:e.y,z:e.z}}),this}center(){let t=0,e=createVector(0,0);return this.instrs.forEach(r=>{Object.keys(r).filter(t=>"instr"!==t).forEach(t=>{e.add(r[t].x,r[t].y)}),t+=Object.keys(r).length-1}),t&&e.div(t),e}shadow(t=0,e="black",r=1,n=5,a=5){return this.ctx.shadowBlur=t,this.ctx.shadowColor=e,this.ctx.shadowOffsetX=n,this.ctx.shadowOffsetY=a,this.ctx.shadowAlpha=r,this}moveTo(t,e){let r="object"==typeof t?t:{x:t,y:e},n=this.center(),a=r.x-n.x,i=r.y-n.y;return this.instrs.forEach(t=>{Object.keys(t).forEach(e=>{"instr"!==e&&(t[e].x+=a,t[e].y+=i)})}),this}rotate(t,e){return e=e||this.center(),this.instrs.forEach(r=>{Object.keys(r).forEach(n=>{"instr"!==n&&(r[n]=this.rotatePoint(r[n],t,e))})}),this}draw(t=1){if(this.ctx.save(),this.clippedBy){let t=new Path2D;t.rect(this.clippedBy.x,this.clippedBy.y,this.clippedBy.w,this.clippedBy.h),this.ctx.clip(t)}return this.style.filter&&(this.ctx.filter=this.style.filter),this.ctx.beginPath(),this.instrs.forEach(e=>{switch(e.instr){case"m":this.ctx.moveTo(e.p.x*t,e.p.y*t);break;case"l":this.ctx.lineTo(e.p.x*t,e.p.y*t);break;case"b":this.ctx.bezierCurveTo(e.c1.x*t,e.c1.y*t,e.c2.x*t,e.c2.y*t,e.p2.x*t,e.p2.y*t);break;case"a":this.ctx.arcTo(e.p1.x*t,e.p1.y*t,e.p2.x*t,e.p2.y*t,e.r);break;case"q":this.ctx.quadraticCurveTo(e.c.x*t,e.c.y*t,e.p.x*t,e.p.y*t);break;case"arc":this.ctx.arc(e.p.x*t,e.p.y*t,e.r,e.sa,e.ea,e.cw)}}),this.applyStyle(),this}applyStyle(){this.style.fill?(this.ctx.globalAlpha="alpha"in this.style?this.style.alpha:1,this.ctx.fillStyle=this.style.fill,this.ctx.fill()):this.ctx.noFill,this.ctx.globalAlpha=this.style.strokeAlpha||this.style.alpha||1,(this.style.strokeWidth||this.style.stroke)&&(this.ctx.strokeStyle=this.style.stroke||"black",this.ctx.lineWidth=this.style.strokeWidth||1,this.ctx.stroke()),this.style.shadow&&(this.ctx.shadowColor=this.style.shadow,this.ctx.shadowOffsetX=10,this.ctx.shadowOffsetY=10),this.ctx.lineCap=this.style.lineCap||"butt",this.ctx.restore(),this.ctx.setTransform(1,0,0,1,0,0)}fromPoints(t,e,r=10,n=0){let a=e.x-t.x,i=e.y-t.y,s=Math.sqrt(a*a+i*i),l={x:t.x-n,y:t.y-r/2},u={x:t.x+s+n,y:t.y-r/2},o={x:t.x+s+n,y:t.y+r/2},f={x:t.x-n,y:t.y+r/2};this.m(l).l(u).l(o).l(f).l(l);let c=e.x-t.x,h=e.y-t.y,d=Math.atan2(h,c)*(180/Math.PI);return this.rotate(d,t),this}rotatePoint(t,e,r){let n=e*Math.PI/180,a=Math.cos(n),i=Math.sin(n),s=t.x-r.x,l=t.y-r.y;return{x:a*s-i*l+r.x,y:i*s+a*l+r.y}}circle(t,e=10,r=0,n=2*Math.PI,a=!0){return this.instrs.push({instr:"arc",p:t,r:e,sa:r,ea:n,cw:a}),this}rect(t,e,r){return this.fromPoints({x:t.x,y:t.y+r/2},{x:t.x+e,y:t.y+r/2},r)}line(t,e){return this.m(t).l(e),this}clip(t,e,r,n){return this.clippedBy={x:t,y:e,w:r,h:n},this}}e.exports=n},{"chroma-js":1}],8:[function(t,e,r){"use strict";e.exports=class{static subd(t,e=1){let r=[];for(let e=1;e<t.length;e++)r.push(t[e-1],{x:(t[e-1].x+t[e].x)/2,y:(t[e-1].y+t[e].y)/2});return r.push(t[t.length-1]),r}static rects(t,e){for(let e=0;e<t.length;e++)Math.sqrt(t[e].x*t[e].x+t[e].y*t[e].y)}static rslice(t,e,r){let n=r-e,a=Math.round(random()*t.length)-n,i=a+Math.round(n*random());return console.log(i-a),t.slice(a,i)}static noise(t,e){return t.map(function(t){return{x:t.x+random()*e,y:t.y+random()*e}})}static closest(t,e){let r=void 0,n=1e10;return e.forEach(t=>{let e=Math.sqrt(Math.pow(t.x,2)+Math.pow(t.y,2));e<n&&(n=e,r=t)}),r}}},{}],9:[function(t,e,r){(function(r){let n=t("./Layout"),a=t("./Path"),i=t("./Parametrics"),s=t("./Grammar"),l=t("./Points"),u=t("chroma-js");function o(t){console.log("Chalks:",t)}r.chroma=u;p5.Vector.prototype.cadd=function(t,e,r){let n="function"==typeof t?t():t,a="function"==typeof e?e():e,i="function"==typeof r?r():r;return createVector(this.x,this.y,this.z).add(n,a,i)},p5.prototype.r=function(t,e,r){return random(t,e,r)},p5.prototype.vector=function(t,e,r){return createVector(t,e,r)},e.exports=class{constructor(t={},e={}){this.start=Date.now(),this.scale=t.scale||1,this.width=t.width*this.scale||1e3,this.height=t.height*this.scale||1e3,new p5,this.p5canvas=createCanvas(this.width,this.height),this.canvas=document.getElementById("defaultCanvas0"),this.ctx=this.canvas.getContext("2d"),this.seed=t.seed?t.seed:(1e4*Math.random()).toString().substr(5,8),o("using seed="+this.seed),randomSeed(this.seed),this.drawBackground(this.width,this.height,e),this._modules()}_modules(){this.Layout=n,this.Path=a,this.Parametrics=i,this.Grammar=s,this.Points=l}drawBackground(t,e,r){this.ctx.fillStyle=r.fill||"white",this.ctx.fillRect(0,0,t,e),this.ctx.fillStyle="black"}setStyle(t){this.drawBackground(this.width,this.height,t)}path(t){return new a(this,t)}lgrad(t,e,r){let n=this.ctx.createLinearGradient(0,0,1e3,1e3);return r.forEach(t=>{n.addColorStop(t[0],t[1])}),n}rgrad(t,e,r,n,a){let i=this.ctx.createRadialGradient(t.x,t.y,e,r.x,r.y,n);return a.forEach(t=>{i.addColorStop(t[0],t[1])}),i}draw(t=1,e){this.ctx.imageSmoothingQuality="high",this.ctx.save(),this.clipped&&this.ctx.clip(this.clipped),o("ended ("+(Date.now()-this.start)/1e3+" secs)"),e&&saveCanvas(this.p5canvas,e,"png"),this.ctx.restore(),noLoop()}clipTo(t,e,r,n){let a=new Path2D;a.rect(t,e,r,n),this.clipped=a}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./Grammar":2,"./Layout":3,"./Parametrics":6,"./Path":7,"./Points":8,"chroma-js":1}]},{},[9])(9)});
