!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Chalks=t()}}(function(){return function(){return function t(e,r,n){function a(i,s){if(!r[i]){if(!e[i]){var o="function"==typeof require&&require;if(!s&&o)return o(i,!0);if(f)return f(i,!0);var c=new Error("Cannot find module '"+i+"'");throw c.code="MODULE_NOT_FOUND",c}var u=r[i]={exports:{}};e[i][0].call(u.exports,function(t){return a(e[i][1][t]||t)},u,u.exports,t,e,r,n)}return r[i].exports}for(var f="function"==typeof require&&require,i=0;i<n.length;i++)a(n[i]);return a}}()({1:[function(t,e,r){(function(){var t,n,a,f,i,s,o,c,u,l,h,d,p,b,g,y,m,v,x,w,k,M,_,N,O,P,j,S,A,q,C,G,E,L,B,z,I,R,Y,V,X,T,D,U,F,J,K,Z,W,$,H,Q,tt,et,rt,nt,at,ft,it,st,ot,ct,ut,lt,ht,dt,pt,bt,gt,yt,mt,vt,xt,wt,kt,Mt,_t,Nt,Ot,Pt,jt=[].slice;Mt=function(){var t,e,r,n,a;for(t={},n=0,e=(a="Boolean Number String Function Array Date RegExp Undefined Null".split(" ")).length;n<e;n++)r=a[n],t["[object "+r+"]"]=r.toLowerCase();return function(e){var r;return r=Object.prototype.toString.call(e),t[r]||"object"}}(),K=function(t,e,r){return null==e&&(e=0),null==r&&(r=1),t<e&&(t=e),t>r&&(t=r),t},_t=function(t){return t.length>=3?Array.prototype.slice.call(t):t[0]},k=function(t){var e,r;for(t._clipped=!1,t._unclipped=t.slice(0),e=r=0;r<3;e=++r)e<3?((t[e]<0||t[e]>255)&&(t._clipped=!0),t[e]<0&&(t[e]=0),t[e]>255&&(t[e]=255)):3===e&&(t[e]<0&&(t[e]=0),t[e]>1&&(t[e]=1));return t._clipped||delete t._unclipped,t},f=Math.PI,mt=Math.round,_=Math.cos,S=Math.floor,rt=Math.pow,Z=Math.log,xt=Math.sin,wt=Math.sqrt,b=Math.atan2,H=Math.max,p=Math.abs,o=2*f,i=f/3,n=f/180,s=180/f,(w=function(){return arguments[0]instanceof t?arguments[0]:function(t,e,r){r.prototype=t.prototype;var n=new r,a=t.apply(n,e);return Object(a)===a?a:n}(t,arguments,function(){})}).default=w,d=[],void 0!==e&&null!==e&&null!=e.exports&&(e.exports=w),(void 0!==r&&null!==r?r:this).chroma=w,w.version="1.4.0",h={},u=[],l=!1,t=function(){function t(){var t,e,r,n,a,f,i,s,o;for(f=this,e=[],s=0,n=arguments.length;s<n;s++)null!=(t=arguments[s])&&e.push(t);if(e.length>1&&(i=e[e.length-1]),null!=h[i])f._rgb=k(h[i](_t(e.slice(0,-1))));else{for(l||(u=u.sort(function(t,e){return e.p-t.p}),l=!0),o=0,a=u.length;o<a&&!(i=(r=u[o]).test.apply(r,e));o++);i&&(f._rgb=k(h[i].apply(h,e)))}null==f._rgb&&console.warn("unknown format: "+e),null==f._rgb&&(f._rgb=[0,0,0]),3===f._rgb.length&&f._rgb.push(1)}return t.prototype.toString=function(){return this.hex()},t}(),w._input=h,w.brewer=v={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},function(){var t,e;for(t in e=[],v)e.push(v[t.toLowerCase()]=v[t])}(),w.colors=Nt={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},T=function(){var t,e,r,n,f,i,s;return n=(e=_t(arguments))[0],t=e[1],r=e[2],i=(n+16)/116,f=isNaN(t)?i:i+t/500,s=isNaN(r)?i:i-r/200,i=a.Yn*D(i),f=a.Xn*D(f),s=a.Zn*D(s),[Pt(3.2404542*f-1.5371385*i-.4985314*s),Pt(-.969266*f+1.8760108*i+.041556*s),r=Pt(.0556434*f-.2040259*i+1.0572252*s),e.length>3?e[3]:1]},Pt=function(t){return 255*(t<=.00304?12.92*t:1.055*rt(t,1/2.4)-.055)},D=function(t){return t>a.t1?t*t*t:a.t2*(t-a.t0)},a={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},ut=function(){var t,e,r,n,a,f,i;return r=(n=_t(arguments))[0],e=n[1],t=n[2],f=(a=bt(r,e,t))[0],[116*(i=a[1])-16,500*(f-i),200*(i-a[2])]},gt=function(t){return(t/=255)<=.04045?t/12.92:rt((t+.055)/1.055,2.4)},Ot=function(t){return t>a.t3?rt(t,1/3):t/a.t2+a.t0},bt=function(){var t,e,r,n;return r=(n=_t(arguments))[0],e=n[1],t=n[2],r=gt(r),e=gt(e),t=gt(t),[Ot((.4124564*r+.3575761*e+.1804375*t)/a.Xn),Ot((.2126729*r+.7151522*e+.072175*t)/a.Yn),Ot((.0193339*r+.119192*e+.9503041*t)/a.Zn)]},w.lab=function(){return function(t,e,r){r.prototype=t.prototype;var n=new r,a=t.apply(n,e);return Object(a)===a?a:n}(t,jt.call(arguments).concat(["lab"]),function(){})},h.lab=T,t.prototype.lab=function(){return ut(this._rgb)},g=function(t){var e,r,n,a,f,i,s,o,c,u,l;return 2===(t=function(){var e,r,n;for(n=[],r=0,e=t.length;r<e;r++)a=t[r],n.push(w(a));return n}()).length?(c=function(){var e,r,n;for(n=[],r=0,e=t.length;r<e;r++)a=t[r],n.push(a.lab());return n}(),f=c[0],i=c[1],e=function(t){var e,r;return r=function(){var r,n;for(n=[],e=r=0;r<=2;e=++r)n.push(f[e]+t*(i[e]-f[e]));return n}(),w.lab.apply(w,r)}):3===t.length?(u=function(){var e,r,n;for(n=[],r=0,e=t.length;r<e;r++)a=t[r],n.push(a.lab());return n}(),f=u[0],i=u[1],s=u[2],e=function(t){var e,r;return r=function(){var r,n;for(n=[],e=r=0;r<=2;e=++r)n.push((1-t)*(1-t)*f[e]+2*(1-t)*t*i[e]+t*t*s[e]);return n}(),w.lab.apply(w,r)}):4===t.length?(l=function(){var e,r,n;for(n=[],r=0,e=t.length;r<e;r++)a=t[r],n.push(a.lab());return n}(),f=l[0],i=l[1],s=l[2],o=l[3],e=function(t){var e,r;return r=function(){var r,n;for(n=[],e=r=0;r<=2;e=++r)n.push((1-t)*(1-t)*(1-t)*f[e]+3*(1-t)*(1-t)*t*i[e]+3*(1-t)*t*t*s[e]+t*t*t*o[e]);return n}(),w.lab.apply(w,r)}):5===t.length&&(r=g(t.slice(0,3)),n=g(t.slice(2,5)),e=function(t){return t<.5?r(2*t):n(2*(t-.5))}),e},w.bezier=function(t){var e;return(e=g(t)).scale=function(){return w.scale(e)},e},w.cubehelix=function(t,e,r,n,a){var f,i,s;return null==t&&(t=300),null==e&&(e=-1.5),null==r&&(r=1),null==n&&(n=1),null==a&&(a=[0,1]),f=0,"array"===Mt(a)?i=a[1]-a[0]:(i=0,a=[a,a]),(s=function(s){var c,u,l,h,d;return c=o*((t+120)/360+e*s),h=rt(a[0]+i*s,n),u=(0!==f?r[0]+s*f:r)*h*(1-h)/2,l=_(c),d=xt(c),w(k([255*(h+u*(-.14861*l+1.78277*d)),255*(h+u*(-.29227*l-.90649*d)),255*(h+u*(1.97294*l)),1]))}).start=function(e){return null==e?t:(t=e,s)},s.rotations=function(t){return null==t?e:(e=t,s)},s.gamma=function(t){return null==t?n:(n=t,s)},s.hue=function(t){return null==t?r:("array"===Mt(r=t)?0===(f=r[1]-r[0])&&(r=r[1]):f=0,s)},s.lightness=function(t){return null==t?a:("array"===Mt(t)?(a=t,i=t[1]-t[0]):(a=[t,t],i=0),s)},s.scale=function(){return w.scale(s)},s.hue(r),s},w.random=function(){var e,r;for("0123456789abcdef",e="#",r=0;r<6;++r)e+="0123456789abcdef".charAt(S(16*Math.random()));return new t(e)},d=[],w.interpolate=B=function(t,e,r,n){var a,f,i,s;for(null==r&&(r=.5),null==n&&(n="rgb"),"object"!==Mt(t)&&(t=w(t)),"object"!==Mt(e)&&(e=w(e)),i=0,f=d.length;i<f;i++)if(n===(a=d[i])[0]){s=a[1](t,e,r,n);break}if(null==s)throw"color mode "+n+" is not supported";return s.alpha(t.alpha()+r*(e.alpha()-t.alpha()))},t.prototype.interpolate=function(t,e,r){return B(this,t,e,r)},w.mix=B,t.prototype.mix=t.prototype.interpolate,h.rgb=function(){var t,e,r,n;for(t in r=[],e=_t(arguments))n=e[t],r.push(n);return r},w.rgb=function(){return function(t,e,r){r.prototype=t.prototype;var n=new r,a=t.apply(n,e);return Object(a)===a?a:n}(t,jt.call(arguments).concat(["rgb"]),function(){})},t.prototype.rgb=function(t){return null==t&&(t=!0),t?this._rgb.map(Math.round).slice(0,3):this._rgb.slice(0,3)},t.prototype.rgba=function(t){return null==t&&(t=!0),t?[Math.round(this._rgb[0]),Math.round(this._rgb[1]),Math.round(this._rgb[2]),this._rgb[3]]:this._rgb.slice(0)},u.push({p:3,test:function(t){var e;return e=_t(arguments),"array"===Mt(e)&&3===e.length?"rgb":4===e.length&&"number"===Mt(e[3])&&e[3]>=0&&e[3]<=1?"rgb":void 0}}),h.lrgb=h.rgb,R=function(e,r,n,a){var f,i;return f=e._rgb,i=r._rgb,new t(wt(rt(f[0],2)*(1-n)+rt(i[0],2)*n),wt(rt(f[1],2)*(1-n)+rt(i[1],2)*n),wt(rt(f[2],2)*(1-n)+rt(i[2],2)*n),a)},c=function(e){var r,n,a,f,i;for(r=1/e.length,i=[0,0,0,0],a=0,n=e.length;a<n;a++)f=e[a]._rgb,i[0]+=rt(f[0],2)*r,i[1]+=rt(f[1],2)*r,i[2]+=rt(f[2],2)*r,i[3]+=f[3]*r;return i[0]=wt(i[0]),i[1]=wt(i[1]),i[2]=wt(i[2]),i[3]>1&&(i[3]=1),new t(k(i))},d.push(["lrgb",R]),w.average=function(t,e){var r,n,a,i,s,o,u,l,h,d,p,g,y;if(null==e&&(e="rgb"),h=t.length,u=(t=t.map(function(t){return w(t)})).splice(0,1)[0],"lrgb"===e)return c(t);for(l in i=[],s=0,o=0,g=u.get(e))g[l]=g[l]||0,i.push(isNaN(g[l])?0:1),"h"!==e.charAt(l)||isNaN(g[l])||(r=g[l]/180*f,s+=_(r),o+=xt(r));for(n=u.alpha(),p=0,d=t.length;p<d;p++)for(l in y=(a=t[p]).get(e),n+=a.alpha(),g)isNaN(y[l])||(i[l]+=1,"h"===e.charAt(l)?(r=y[l]/180*f,s+=_(r),o+=xt(r)):g[l]+=y[l]);for(l in g)if("h"===e.charAt(l)){for(r=b(o/i[l],s/i[l])/f*180;r<0;)r+=360;for(;r>=360;)r-=360;g[l]=r}else g[l]=g[l]/i[l];return w(g,e).alpha(n/h)},q=function(t){var e,r;if(t.match(/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/))return 4!==t.length&&7!==t.length||(t=t.substr(1)),3===t.length&&(t=(t=t.split(""))[0]+t[0]+t[1]+t[1]+t[2]+t[2]),[(r=parseInt(t,16))>>16,r>>8&255,255&r,1];if(t.match(/^#?([A-Fa-f0-9]{8})$/))return 9===t.length&&(t=t.substr(1)),[(r=parseInt(t,16))>>24&255,r>>16&255,r>>8&255,mt((255&r)/255*100)/100];if(null!=h.css&&(e=h.css(t)))return e;throw"unknown color: "+t},it=function(t,e){var r,n,a,f,i,s;return null==e&&(e="auto"),i=t[0],a=t[1],n=t[2],r=t[3],"auto"===e&&(e=r<1?"rgba":"rgb"),i=Math.round(i),a=Math.round(a),n=Math.round(n),s=(s="000000"+(i<<16|a<<8|n).toString(16)).substr(s.length-6),f=(f="0"+mt(255*r).toString(16)).substr(f.length-2),"#"+function(){switch(e.toLowerCase()){case"rgba":return s+f;case"argb":return f+s;default:return s}}()},h.hex=function(t){return q(t)},w.hex=function(){return function(t,e,r){r.prototype=t.prototype;var n=new r,a=t.apply(n,e);return Object(a)===a?a:n}(t,jt.call(arguments).concat(["hex"]),function(){})},t.prototype.hex=function(t){return null==t&&(t="auto"),it(this._rgb,t)},u.push({p:4,test:function(t){if(1===arguments.length&&"string"===Mt(t))return"hex"}}),E=function(){var t,e,r,n,a,f,i,s,o,c,u,l,h,d;if(a=(t=_t(arguments))[0],u=t[1],i=t[2],0===u)o=n=e=255*i;else{for(d=[0,0,0],r=[0,0,0],l=2*i-(h=i<.5?i*(1+u):i+u-i*u),a/=360,d[0]=a+1/3,d[1]=a,d[2]=a-1/3,f=s=0;s<=2;f=++s)d[f]<0&&(d[f]+=1),d[f]>1&&(d[f]-=1),6*d[f]<1?r[f]=l+6*(h-l)*d[f]:2*d[f]<1?r[f]=h:3*d[f]<2?r[f]=l+(h-l)*(2/3-d[f])*6:r[f]=l;o=(c=[mt(255*r[0]),mt(255*r[1]),mt(255*r[2])])[0],n=c[1],e=c[2]}return t.length>3?[o,n,e,t[3]]:[o,n,e]},ot=function(t,e,r){var n,a,f,i,s;return void 0!==t&&t.length>=3&&(t=(i=t)[0],e=i[1],r=i[2]),t/=255,e/=255,r/=255,f=Math.min(t,e,r),a=((H=Math.max(t,e,r))+f)/2,H===f?(s=0,n=Number.NaN):s=a<.5?(H-f)/(H+f):(H-f)/(2-H-f),t===H?n=(e-r)/(H-f):e===H?n=2+(r-t)/(H-f):r===H&&(n=4+(t-e)/(H-f)),(n*=60)<0&&(n+=360),[n,s,a]},w.hsl=function(){return function(t,e,r){r.prototype=t.prototype;var n=new r,a=t.apply(n,e);return Object(a)===a?a:n}(t,jt.call(arguments).concat(["hsl"]),function(){})},h.hsl=E,t.prototype.hsl=function(){return ot(this._rgb)},L=function(){var t,e,r,n,a,f,i,s,o,c,u,l,h,d,p,b,g,y;if(a=(t=_t(arguments))[0],b=t[1],y=t[2],y*=255,0===b)o=n=e=y;else switch(360===a&&(a=0),a>360&&(a-=360),a<0&&(a+=360),i=y*(1-b),s=y*(1-b*(r=(a/=60)-(f=S(a)))),g=y*(1-b*(1-r)),f){case 0:o=(c=[y,g,i])[0],n=c[1],e=c[2];break;case 1:o=(u=[s,y,i])[0],n=u[1],e=u[2];break;case 2:o=(l=[i,y,g])[0],n=l[1],e=l[2];break;case 3:o=(h=[i,s,y])[0],n=h[1],e=h[2];break;case 4:o=(d=[g,i,y])[0],n=d[1],e=d[2];break;case 5:o=(p=[y,i,s])[0],n=p[1],e=p[2]}return[o,n,e,t.length>3?t[3]:1]},ct=function(){var t,e,r,n,a,f,i,s,o;return f=(i=_t(arguments))[0],r=i[1],t=i[2],a=Math.min(f,r,t),e=(H=Math.max(f,r,t))-a,o=H/255,0===H?(n=Number.NaN,s=0):(s=e/H,f===H&&(n=(r-t)/e),r===H&&(n=2+(t-f)/e),t===H&&(n=4+(f-r)/e),(n*=60)<0&&(n+=360)),[n,s,o]},w.hsv=function(){return function(t,e,r){r.prototype=t.prototype;var n=new r,a=t.apply(n,e);return Object(a)===a?a:n}(t,jt.call(arguments).concat(["hsv"]),function(){})},h.hsv=L,t.prototype.hsv=function(){return ct(this._rgb)},tt=function(t){return"number"===Mt(t)&&t>=0&&t<=16777215?[t>>16,t>>8&255,255&t,1]:(console.warn("unknown num color: "+t),[0,0,0,1])},dt=function(){var t;return((t=_t(arguments))[0]<<16)+(t[1]<<8)+t[2]},w.num=function(e){return new t(e,"num")},t.prototype.num=function(t){return null==t&&(t="rgb"),dt(this._rgb,t)},h.num=tt,u.push({p:1,test:function(t){if(1===arguments.length&&"number"===Mt(t)&&t>=0&&t<=16777215)return"num"}}),A=function(){var t,e,r,n,a,f,i,s,o,c,u,l,h,d,p,b,g,y,m,v;if(s=(r=_t(arguments))[0],a=r[1],e=r[2],i=i/100*255,t=255*(a/=100),0===a)l=i=n=e;else switch(360===s&&(s=0),s>360&&(s-=360),s<0&&(s+=360),u=(c=e*(1-a))+t*(1-(f=(s/=60)-(o=S(s)))),m=c+t*f,v=c+t,o){case 0:l=(h=[v,m,c])[0],i=h[1],n=h[2];break;case 1:l=(d=[u,v,c])[0],i=d[1],n=d[2];break;case 2:l=(p=[c,v,m])[0],i=p[1],n=p[2];break;case 3:l=(b=[c,u,v])[0],i=b[1],n=b[2];break;case 4:l=(g=[m,c,v])[0],i=g[1],n=g[2];break;case 5:l=(y=[v,c,u])[0],i=y[1],n=y[2]}return[l,i,n,r.length>3?r[3]:1]},ft=function(){var t,e,r,n,a,f,i,s,o;return s=(o=_t(arguments))[0],a=o[1],e=o[2],i=Math.min(s,a,e),r=100*(n=(H=Math.max(s,a,e))-i)/255,t=i/(255-n)*100,0===n?f=Number.NaN:(s===H&&(f=(a-e)/n),a===H&&(f=2+(e-s)/n),e===H&&(f=4+(s-a)/n),(f*=60)<0&&(f+=360)),[f,r,t]},w.hcg=function(){return function(t,e,r){r.prototype=t.prototype;var n=new r,a=t.apply(n,e);return Object(a)===a?a:n}(t,jt.call(arguments).concat(["hcg"]),function(){})},h.hcg=A,t.prototype.hcg=function(){return ft(this._rgb)},N=function(t){var e,r,n,a,f,i,s,o;if(t=t.toLowerCase(),null!=w.colors&&w.colors[t])return q(w.colors[t]);if(f=t.match(/rgb\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*\)/)){for(s=f.slice(1,4),a=i=0;i<=2;a=++i)s[a]=+s[a];s[3]=1}else if(f=t.match(/rgba\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*,\s*([01]|[01]?\.\d+)\)/))for(s=f.slice(1,5),a=o=0;o<=3;a=++o)s[a]=+s[a];else if(f=t.match(/rgb\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/)){for(s=f.slice(1,4),a=e=0;e<=2;a=++e)s[a]=mt(2.55*s[a]);s[3]=1}else if(f=t.match(/rgba\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/)){for(s=f.slice(1,5),a=r=0;r<=2;a=++r)s[a]=mt(2.55*s[a]);s[3]=+s[3]}else(f=t.match(/hsl\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/))?((n=f.slice(1,4))[1]*=.01,n[2]*=.01,(s=E(n))[3]=1):(f=t.match(/hsla\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/))&&((n=f.slice(1,4))[1]*=.01,n[2]*=.01,(s=E(n))[3]=+f[4]);return s},at=function(t){var e;return"rgb"===(e=t[3]<1?"rgba":"rgb")?e+"("+t.slice(0,3).map(mt).join(",")+")":"rgba"===e?e+"("+t.slice(0,3).map(mt).join(",")+","+t[3]+")":void 0},yt=function(t){return mt(100*t)/100},G=function(t,e){var r;return r=e<1?"hsla":"hsl",t[0]=yt(t[0]||0),t[1]=yt(100*t[1])+"%",t[2]=yt(100*t[2])+"%","hsla"===r&&(t[3]=e),r+"("+t.join(",")+")"},h.css=function(t){return N(t)},w.css=function(){return function(t,e,r){r.prototype=t.prototype;var n=new r,a=t.apply(n,e);return Object(a)===a?a:n}(t,jt.call(arguments).concat(["css"]),function(){})},t.prototype.css=function(t){return null==t&&(t="rgb"),"rgb"===t.slice(0,3)?at(this._rgb):"hsl"===t.slice(0,3)?G(this.hsl(),this.alpha()):void 0},h.named=function(t){return q(Nt[t])},u.push({p:5,test:function(t){if(1===arguments.length&&null!=Nt[t])return"named"}}),t.prototype.name=function(t){var e,r;for(r in arguments.length&&(Nt[t]&&(this._rgb=q(Nt[t])),this._rgb[3]=1),e=this.hex("rgb"),Nt)if(e===Nt[r])return r;return e},U=function(){var t,e,r,a;return r=(a=_t(arguments))[0],t=a[1],e=a[2],[r,_(e*=n)*t,xt(e)*t]},F=function(){var t,e,r,n,a,f,i,s,o;return i=(r=_t(arguments))[0],a=r[1],f=r[2],t=(s=U(i,a,f))[0],e=s[1],n=s[2],[(o=T(t,e,n))[0],o[1],n=o[2],r.length>3?r[3]:1]},X=function(){var t,e,r,n,a,f;return a=(f=_t(arguments))[0],t=f[1],e=f[2],r=wt(t*t+e*e),n=(b(e,t)*s+360)%360,0===mt(1e4*r)&&(n=Number.NaN),[a,r,n]},lt=function(){var t,e,r,n,a,f,i;return a=(f=_t(arguments))[0],r=f[1],e=f[2],n=(i=ut(a,r,e))[0],t=i[1],e=i[2],X(n,t,e)},w.lch=function(){var e;return e=_t(arguments),new t(e,"lch")},w.hcl=function(){var e;return e=_t(arguments),new t(e,"hcl")},h.lch=F,h.hcl=function(){var t,e,r,n;return e=(n=_t(arguments))[0],t=n[1],r=n[2],F([r,t,e])},t.prototype.lch=function(){return lt(this._rgb)},t.prototype.hcl=function(){return lt(this._rgb).reverse()},nt=function(t){var e,r,n,a,f,i;return null==t&&(t="rgb"),f=(i=_t(arguments))[0],n=i[1],e=i[2],n/=255,e/=255,[(1-(f/=255)-(a=1-Math.max(f,Math.max(n,e))))*(r=a<1?1/(1-a):0),(1-n-a)*r,(1-e-a)*r,a]},M=function(){var t,e,r,n,a,f;return r=(e=_t(arguments))[0],a=e[1],f=e[2],n=e[3],t=e.length>4?e[4]:1,1===n?[0,0,0,t]:[r>=1?0:255*(1-r)*(1-n),a>=1?0:255*(1-a)*(1-n),f>=1?0:255*(1-f)*(1-n),t]},h.cmyk=function(){return M(_t(arguments))},w.cmyk=function(){return function(t,e,r){r.prototype=t.prototype;var n=new r,a=t.apply(n,e);return Object(a)===a?a:n}(t,jt.call(arguments).concat(["cmyk"]),function(){})},t.prototype.cmyk=function(){return nt(this._rgb)},h.gl=function(){var t,e,r,n,a;for(n=function(){var t,r;for(e in r=[],t=_t(arguments))a=t[e],r.push(a);return r}.apply(this,arguments),t=r=0;r<=2;t=++r)n[t]*=255;return n},w.gl=function(){return function(t,e,r){r.prototype=t.prototype;var n=new r,a=t.apply(n,e);return Object(a)===a?a:n}(t,jt.call(arguments).concat(["gl"]),function(){})},t.prototype.gl=function(){var t;return[(t=this._rgb)[0]/255,t[1]/255,t[2]/255,t[3]]},ht=function(t,e,r){var n;return t=(n=_t(arguments))[0],e=n[1],r=n[2],.2126*(t=W(t))+.7152*(e=W(e))+.0722*(r=W(r))},W=function(t){return(t/=255)<=.03928?t/12.92:rt((t+.055)/1.055,2.4)},V=function(e,r,n,a){var f,i;return f=e._rgb,i=r._rgb,new t(f[0]+n*(i[0]-f[0]),f[1]+n*(i[1]-f[1]),f[2]+n*(i[2]-f[2]),a)},d.push(["rgb",V]),t.prototype.luminance=function(t,e){var r,n,a,f,i;return null==e&&(e="rgb"),arguments.length?(f=this._rgb,0===t?f=[0,0,0,this._rgb[3]]:1===t?f=[255,255,255,this[3]]:(r=ht(this._rgb),n=1e-7,a=20,i=function(r,f){var s,o;return s=(o=r.interpolate(f,.5,e)).luminance(),Math.abs(t-s)<n||!a--?o:s>t?i(r,o):i(o,f)},f=r>t?i(w("black"),this).rgba():i(this,w("white")).rgba()),w(f).alpha(this.alpha())):ht(this._rgb)},kt=function(t){var e,r,n,a;return(a=t/100)<66?(n=255,r=-155.25485562709179-.44596950469579133*(r=a-2)+104.49216199393888*Z(r),e=a<20?0:.8274096064007395*(e=a-10)-254.76935184120902+115.67994401066147*Z(e)):(n=351.97690566805693+.114206453784165*(n=a-55)-40.25366309332127*Z(n),r=325.4494125711974+.07943456536662342*(r=a-50)-28.0852963507957*Z(r),e=255),[n,r,e]},pt=function(){var t,e,r,n,a,f,i;for(n=(a=_t(arguments))[0],a[1],t=a[2],r=1e3,e=4e4,.4;e-r>.4;)(f=kt(i=.5*(e+r)))[2]/f[0]>=t/n?e=i:r=i;return mt(i)},w.temperature=w.kelvin=function(){return function(t,e,r){r.prototype=t.prototype;var n=new r,a=t.apply(n,e);return Object(a)===a?a:n}(t,jt.call(arguments).concat(["temperature"]),function(){})},h.temperature=h.kelvin=h.K=kt,t.prototype.temperature=function(){return pt(this._rgb)},t.prototype.kelvin=t.prototype.temperature,w.contrast=function(e,r){var n,a,f,i;return"string"!==(f=Mt(e))&&"number"!==f||(e=new t(e)),"string"!==(i=Mt(r))&&"number"!==i||(r=new t(r)),(n=e.luminance())>(a=r.luminance())?(n+.05)/(a+.05):(a+.05)/(n+.05)},w.distance=function(e,r,n){var a,f,i,s,o,c,u;for(f in null==n&&(n="lab"),"string"!==(o=Mt(e))&&"number"!==o||(e=new t(e)),"string"!==(c=Mt(r))&&"number"!==c||(r=new t(r)),i=e.get(n),s=r.get(n),u=0,i)u+=(a=(i[f]||0)-(s[f]||0))*a;return Math.sqrt(u)},w.deltaE=function(e,r,n,a){var i,s,o,c,u,l,h,d,g,y,m,v,x,w,k,M,N,O,P,j,S,A,q,C;for(null==n&&(n=1),null==a&&(a=1),"string"!==(k=Mt(e))&&"number"!==k||(e=new t(e)),"string"!==(M=Mt(r))&&"number"!==M||(r=new t(r)),i=(N=e.lab())[0],o=N[1],u=N[2],s=(O=r.lab())[0],c=O[1],l=O[2],h=wt(o*o+u*u),d=wt(c*c+l*l),j=i<16?.511:.040975*i/(1+.01765*i),P=.0638*h/(1+.0131*h)+.638,w=h<1e-6?0:180*b(u,o)/f;w<0;)w+=360;for(;w>=360;)w-=360;return S=w>=164&&w<=345?.56+p(.2*_(f*(w+168)/180)):.36+p(.4*_(f*(w+35)/180)),x=wt((g=h*h*h*h)/(g+1900)),wt((A=(i-s)/(n*j))*A+(q=(v=h-d)/(a*P))*q+((y=o-c)*y+(m=u-l)*m-v*v)/((C=P*(x*S+1-x))*C))},t.prototype.get=function(t){var e,r,n,a,f;return this,n=(a=t.split("."))[0],e=a[1],f=this[n](),e?(r=n.indexOf(e))>-1?f[r]:console.warn("unknown channel "+e+" in mode "+n):f},t.prototype.set=function(t,e){var r,n,a,f,i;if(this,a=(f=t.split("."))[0],r=f[1])if(i=this[a](),(n=a.indexOf(r))>-1)if("string"===Mt(e))switch(e.charAt(0)){case"+":case"-":i[n]+=+e;break;case"*":i[n]*=+e.substr(1);break;case"/":i[n]/=+e.substr(1);break;default:i[n]=+e}else i[n]=e;else console.warn("unknown channel "+r+" in mode "+a);else i=e;return w(i,a).alpha(this.alpha())},t.prototype.clipped=function(){return this._rgb._clipped||!1},t.prototype.alpha=function(t){return arguments.length?w.rgb([this._rgb[0],this._rgb[1],this._rgb[2],t]):this._rgb[3]},t.prototype.darken=function(t){var e;return null==t&&(t=1),this,(e=this.lab())[0]-=a.Kn*t,w.lab(e).alpha(this.alpha())},t.prototype.brighten=function(t){return null==t&&(t=1),this.darken(-t)},t.prototype.darker=t.prototype.darken,t.prototype.brighter=t.prototype.brighten,t.prototype.saturate=function(t){var e;return null==t&&(t=1),this,(e=this.lch())[1]+=t*a.Kn,e[1]<0&&(e[1]=0),w.lch(e).alpha(this.alpha())},t.prototype.desaturate=function(t){return null==t&&(t=1),this.saturate(-t)},t.prototype.premultiply=function(){var t,e;return e=this.rgb(),t=this.alpha(),w(e[0]*t,e[1]*t,e[2]*t,t)},Q=function(t,e){return t*e/255},O=function(t,e){return t>e?e:t},J=function(t,e){return t>e?t:e},vt=function(t,e){return 255*(1-(1-t/255)*(1-e/255))},et=function(t,e){return e<128?2*t*e/255:255*(1-2*(1-t/255)*(1-e/255))},x=function(t,e){return 255*(1-(1-e/255)/(t/255))},P=function(t,e){return 255===t?255:(t=e/255*255/(1-t/255))>255?255:t},(y=function(t,e,r){if(!y[r])throw"unknown blend mode "+r;return y[r](t,e)}).normal=(m=function(t){return function(e,r){var n,a;return n=w(r).rgb(),a=w(e).rgb(),w(t(n,a),"rgb")}})((j=function(t){return function(e,r){var n,a,f;for(f=[],n=a=0;a<=3;n=++a)f[n]=t(e[n],r[n]);return f}})(function(t,e){return t})),y.multiply=m(j(Q)),y.screen=m(j(vt)),y.overlay=m(j(et)),y.darken=m(j(O)),y.lighten=m(j(J)),y.dodge=m(j(P)),y.burn=m(j(x)),w.blend=y,w.analyze=function(t){var e,r,n,a;for(n={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0},r=0,e=t.length;r<e;r++)null==(a=t[r])||isNaN(a)||(n.values.push(a),n.sum+=a,a<n.min&&(n.min=a),a>n.max&&(n.max=a),n.count+=1);return n.domain=[n.min,n.max],n.limits=function(t,e){return w.limits(n,t,e)},n},w.scale=function(t,e){var r,n,a,f,i,s,o,c,u,l,h,d,p,b,g,y,m,v,x,k,M;return u="rgb",l=w("#ccc"),b=0,!1,i=[0,1],p=[],d=[0,0],r=!1,a=[],h=!1,c=0,o=1,f=!1,n={},g=!0,s=1,k=function(t){var e,r,n,f,i,s;if(null==t&&(t=["#fff","#000"]),null!=t&&"string"===Mt(t)&&null!=w.brewer&&(t=w.brewer[t]||w.brewer[t.toLowerCase()]||t),"array"===Mt(t)){for(1===t.length&&(t=[t[0],t[0]]),e=n=0,f=(t=t.slice(0)).length-1;0<=f?n<=f:n>=f;e=0<=f?++n:--n)r=t[e],"string"===Mt(r)&&(t[e]=w(r));for(p.length=0,e=s=0,i=t.length-1;0<=i?s<=i:s>=i;e=0<=i?++s:--s)p.push(e/(t.length-1))}return x(),a=t},m=function(t){var e,n;if(null!=r){for(n=r.length-1,e=0;e<n&&t>=r[e];)e++;return e-1}return 0},M=function(t){return t},function(t){var e,n,a,f,i;return i=t,r.length>2&&(f=r.length-1,e=m(t),a=r[0]+(r[1]-r[0])*(0+.5*b),n=r[f-1]+(r[f]-r[f-1])*(1-.5*b),i=c+(r[e]+.5*(r[e+1]-r[e])-a)/(n-a)*(o-c)),i},v=function(t,e){var f,i,h,b,y,v,x;if(null==e&&(e=!1),isNaN(t))return l;if(x=e?t:r&&r.length>2?m(t)/(r.length-2):o!==c?(t-c)/(o-c):1,e||(x=M(x)),1!==s&&(x=rt(x,s)),x=d[0]+x*(1-d[0]-d[1]),x=Math.min(1,Math.max(0,x)),h=Math.floor(1e4*x),g&&n[h])f=n[h];else{if("array"===Mt(a))for(i=b=0,v=p.length-1;0<=v?b<=v:b>=v;i=0<=v?++b:--b){if(x<=(y=p[i])){f=a[i];break}if(x>=y&&i===p.length-1){f=a[i];break}if(x>y&&x<p[i+1]){x=(x-y)/(p[i+1]-y),f=w.interpolate(a[i],a[i+1],x,u);break}}else"function"===Mt(a)&&(f=a(x));g&&(n[h]=f)}return f},x=function(){return n={}},k(t),(y=function(t){var e;return e=w(v(t)),h&&e[h]?e[h]():e}).classes=function(t){var e;return null!=t?("array"===Mt(t)?(r=t,i=[t[0],t[t.length-1]]):(e=w.analyze(i),r=0===t?[e.min,e.max]:w.limits(e,"e",t)),y):r},y.domain=function(t){var e,r,n,f,s,u,l;if(!arguments.length)return i;if(c=t[0],o=t[t.length-1],p=[],n=a.length,t.length===n&&c!==o)for(s=0,f=t.length;s<f;s++)r=t[s],p.push((r-c)/(o-c));else for(e=l=0,u=n-1;0<=u?l<=u:l>=u;e=0<=u?++l:--l)p.push(e/(n-1));return i=[c,o],y},y.mode=function(t){return arguments.length?(u=t,x(),y):u},y.range=function(t,e){return k(t),y},y.out=function(t){return h=t,y},y.spread=function(t){return arguments.length?(b=t,y):b},y.correctLightness=function(t){return null==t&&(t=!0),f=t,x(),M=f?function(t){var e,r,n,a,f,i,s,o,c;for(e=v(0,!0).lab()[0],r=v(1,!0).lab()[0],s=e>r,n=v(t,!0).lab()[0],a=n-(f=e+(r-e)*t),o=0,c=1,i=20;Math.abs(a)>.01&&i-- >0;)s&&(a*=-1),a<0?(o=t,t+=.5*(c-t)):(c=t,t+=.5*(o-t)),n=v(t,!0).lab()[0],a=n-f;return t}:function(t){return t},y},y.padding=function(t){return null!=t?("number"===Mt(t)&&(t=[t,t]),d=t,y):d},y.colors=function(e,n){var f,s,o,c,u,l,h,d;if(arguments.length<2&&(n="hex"),u=[],0===arguments.length)u=a.slice(0);else if(1===e)u=[y(.5)];else if(e>1)s=i[0],f=i[1]-s,u=function(){l=[];for(var t=0;0<=e?t<e:t>e;0<=e?t++:t--)l.push(t);return l}.apply(this).map(function(t){return y(s+t/(e-1)*f)});else{if(t=[],h=[],r&&r.length>2)for(o=d=1,c=r.length;1<=c?d<c:d>c;o=1<=c?++d:--d)h.push(.5*(r[o-1]+r[o]));else h=i;u=h.map(function(t){return y(t)})}return w[n]&&(u=u.map(function(t){return t[n]()})),u},y.cache=function(t){return null!=t?(g=t,y):g},y.gamma=function(t){return null!=t?(s=t,y):s},y},null==w.scales&&(w.scales={}),w.scales.cool=function(){return w.scale([w.hsl(180,1,.9),w.hsl(250,.7,.4)])},w.scales.hot=function(){return w.scale(["#000","#f00","#ff0","#fff"],[0,.25,.75,1]).mode("rgb")},w.analyze=function(t,e,r){var n,a,f,i,s,o;if(s={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0},null==r&&(r=function(){return!0}),n=function(t){null==t||isNaN(t)||(s.values.push(t),s.sum+=t,t<s.min&&(s.min=t),t>s.max&&(s.max=t),s.count+=1)},o=function(t,a){if(r(t,a))return null!=e&&"function"===Mt(e)?n(e(t)):null!=e&&"string"===Mt(e)||"number"===Mt(e)?n(t[e]):n(t)},"array"===Mt(t))for(i=0,f=t.length;i<f;i++)o(t[i]);else for(a in t)o(t[a],a);return s.domain=[s.min,s.max],s.limits=function(t,e){return w.limits(s,t,e)},s},w.limits=function(t,e,r){var n,a,f,i,s,o,c,u,l,h,d,b,g,y,m,v,x,k,M,_,N,O,P,j,A,q,C,G,E,L,B,z,I,R,Y,V,X,T,D,U,F,J,K,W,$,Q,tt,et,nt,at,ft,it,st,ot,ct;if(null==e&&(e="equal"),null==r&&(r=7),"array"===Mt(t)&&(t=w.analyze(t)),A=t.min,H=t.max,t.sum,ot=t.values.sort(function(t,e){return t-e}),1===r)return[A,H];if(P=[],"c"===e.substr(0,1)&&(P.push(A),P.push(H)),"e"===e.substr(0,1)){for(P.push(A),_=B=1,Y=r-1;1<=Y?B<=Y:B>=Y;_=1<=Y?++B:--B)P.push(A+_/r*(H-A));P.push(H)}else if("l"===e.substr(0,1)){if(A<=0)throw"Logarithmic scales are only possible for values > 0";for(q=Math.LOG10E*Z(A),j=Math.LOG10E*Z(H),P.push(A),_=ct=1,V=r-1;1<=V?ct<=V:ct>=V;_=1<=V?++ct:--ct)P.push(rt(10,q+_/r*(j-q)));P.push(H)}else if("q"===e.substr(0,1)){for(P.push(A),_=n=1,J=r-1;1<=J?n<=J:n>=J;_=1<=J?++n:--n)z=(ot.length-1)*_/r,(I=S(z))===z?P.push(ot[I]):(R=z-I,P.push(ot[I]*(1-R)+ot[I+1]*R));P.push(H)}else if("k"===e.substr(0,1)){for(G=ot.length,y=new Array(G),k=new Array(r),at=!0,E=0,v=null,(v=[]).push(A),_=a=1,K=r-1;1<=K?a<=K:a>=K;_=1<=K?++a:--a)v.push(A+_/r*(H-A));for(v.push(H);at;){for(N=f=0,W=r-1;0<=W?f<=W:f>=W;N=0<=W?++f:--f)k[N]=0;for(_=i=0,$=G-1;0<=$?i<=$:i>=$;_=0<=$?++i:--i){for(st=ot[_],C=Number.MAX_VALUE,N=s=0,Q=r-1;0<=Q?s<=Q:s>=Q;N=0<=Q?++s:--s)(M=p(v[N]-st))<C&&(C=M,m=N);k[m]++,y[_]=m}for(L=new Array(r),N=o=0,tt=r-1;0<=tt?o<=tt:o>=tt;N=0<=tt?++o:--o)L[N]=null;for(_=c=0,et=G-1;0<=et?c<=et:c>=et;_=0<=et?++c:--c)null===L[x=y[_]]?L[x]=ot[_]:L[x]+=ot[_];for(N=u=0,nt=r-1;0<=nt?u<=nt:u>=nt;N=0<=nt?++u:--u)L[N]*=1/k[N];for(at=!1,N=l=0,X=r-1;0<=X?l<=X:l>=X;N=0<=X?++l:--l)if(L[N]!==v[_]){at=!0;break}v=L,++E>200&&(at=!1)}for(O={},N=h=0,T=r-1;0<=T?h<=T:h>=T;N=0<=T?++h:--h)O[N]=[];for(_=d=0,D=G-1;0<=D?d<=D:d>=D;_=0<=D?++d:--d)O[x=y[_]].push(ot[_]);for(ft=[],N=b=0,U=r-1;0<=U?b<=U:b>=U;N=0<=U?++b:--b)ft.push(O[N][0]),ft.push(O[N][O[N].length-1]);for(ft=ft.sort(function(t,e){return t-e}),P.push(ft[0]),_=g=1,F=ft.length-1;g<=F;_=g+=2)it=ft[_],isNaN(it)||-1!==P.indexOf(it)||P.push(it)}return P},C=function(t,e,r){var n,a,f,s;return t=(n=_t(arguments))[0],e=n[1],r=n[2],isNaN(t)&&(t=0),(t/=360)<1/3?f=1-((a=(1-e)/3)+(s=(1+e*_(o*t)/_(i-o*t))/3)):t<2/3?a=1-((s=(1-e)/3)+(f=(1+e*_(o*(t-=1/3))/_(i-o*t))/3)):s=1-((f=(1-e)/3)+(a=(1+e*_(o*(t-=2/3))/_(i-o*t))/3)),[255*(s=K(r*s*3)),255*(f=K(r*f*3)),255*(a=K(r*a*3)),n.length>3?n[3]:1]},st=function(){var t,e,r,n,a,f,i;return a=(f=_t(arguments))[0],e=f[1],t=f[2],o=2*Math.PI,a/=255,e/=255,t/=255,0===(i=1-Math.min(a,e,t)/(n=(a+e+t)/3))?r=0:(r=(a-e+(a-t))/2,r/=Math.sqrt((a-e)*(a-e)+(a-t)*(e-t)),r=Math.acos(r),t>e&&(r=o-r),r/=o),[360*r,i,n]},w.hsi=function(){return function(t,e,r){r.prototype=t.prototype;var n=new r,a=t.apply(n,e);return Object(a)===a?a:n}(t,jt.call(arguments).concat(["hsi"]),function(){})},h.hsi=C,t.prototype.hsi=function(){return st(this._rgb)},z=function(t,e,r,n){var a,f,i,s,o,c,u,l,h,d;return"hsl"===n?(h=t.hsl(),d=e.hsl()):"hsv"===n?(h=t.hsv(),d=e.hsv()):"hcg"===n?(h=t.hcg(),d=e.hcg()):"hsi"===n?(h=t.hsi(),d=e.hsi()):"lch"!==n&&"hcl"!==n||(n="hcl",h=t.hcl(),d=e.hcl()),"h"===n.substr(0,1)&&(f=h[0],u=h[1],s=h[2],i=d[0],l=d[1],o=d[2]),isNaN(f)||isNaN(i)?isNaN(f)?isNaN(i)?a=Number.NaN:(a=i,1!==s&&0!==s||"hsv"===n||(c=l)):(a=f,1!==o&&0!==o||"hsv"===n||(c=u)):a=f+r*(i>f&&i-f>180?i-(f+360):i<f&&f-i>180?i+360-f:i-f),null==c&&(c=u+r*(l-u)),w[n](a,c,s+r*(o-s))},Y=function(t,e,r,n){var a,f;return a=t.num(),f=e.num(),w.num(a+(f-a)*r,"num")},(d=d.concat(function(){var t,e,r,n;for(n=[],e=0,t=(r=["hsv","hsl","hsi","hcl","lch","hcg"]).length;e<t;e++)$=r[e],n.push([$,z]);return n}())).push(["num",Y]),I=function(e,r,n,a){var f,i;return f=e.lab(),i=r.lab(),new t(f[0]+n*(i[0]-f[0]),f[1]+n*(i[1]-f[1]),f[2]+n*(i[2]-f[2]),a)},d.push(["lab",I])}).call(this)},{}],2:[function(t,e,r){"use strict";e.exports=class{constructor(t){t(),this.branches={}}add(t,e){return this.branches[e.name]={p:t,fun:e},this}run(t,e=10){this.stop=e,this.it=0;let r=void 0;if(t instanceof Function)r=t;else{if(!(r=this.branches[t]))throw"Grammar error: "+t+" function not found. Did you add() it to the grammar?";r=r.fun}r()}take(...t){if(this.it<this.stop){this.it++;let e=random(t);if(!(e in this.branches))throw"Grammar error: "+e+" function not found. Did you add() it to the grammar?";this.branches[e].fun()}else console.log("Stopped after "+this.stop+" iterations")}}},{}],3:[function(t,e,r){"use strict";e.exports=class{static grid(t,e,r,n){let a=[],f=r/t,i=n/e;for(let r=1;r<e;r++)for(let e=1;e<t;e++)a.push({x:e*f,y:r*i});return a}static spiral(t){let e=[],r=t.x,n=t.y,a=t.radius,f=t.coils,i=t.chord,s=t.points,o=2*Math.PI,c=2*f*Math.PI,u=a/c,l=i/u;for(let t=0;t<s&&!(l>c);t++){let t=u*l,a=l+o,f=r+Math.cos(a)*t,s=n+Math.sin(a)*t;l+=i/t,e.push({x:f,y:s,r:l})}return e}static rof3(t,e,r,n){let a=[],f=r/3,i=n/3;return a.push({x:f+t,y:i+e}),a.push({x:2*f+t,y:i+e}),a.push({x:2*f+t,y:2*i+e}),a.push({x:f+t,y:2*i+e}),a}static cols(t,e,r){let n=[];for(let a=t.x;a<r;a+=e)n.push({x:a,y:t.y});return n}static rows(t={x:0,y:0},e=10,r=100){let n=[];for(let a=t.y;a<r;a+=e)n.push({x:t.x,y:a});return n}static masonry(t,e,r){return new Masonry(t,e,r)}}},{}],4:[function(t,e,r){"use strict";e.exports=class{static butterflyCurve(t,e,r,n){let a=[],f=r*Math.PI;for(let r=0;r<f;r+=.025){let f=Math.exp(Math.cos(r))-2*Math.cos(n*r)-Math.pow(Math.sin(r/12),5),i=Math.sin(r)*f,s=Math.cos(r)*f;a.push({x:i*e+t.x,y:s*e+t.y})}return a}static hypocycloid(t,e,r,n,a){let f=[],i=r*Math.PI;for(let r=0;r<i;r+=.025){let i=(a-n)*Math.cos(r)+n*Math.cos((a-n)/n*r),s=(a-n)*Math.sin(r)-n*Math.sin((a-n)/n*r);f.push({x:i*e+t.x,y:s*e+t.y})}return f}static rose(t,e,r,n){let a=[],f=r*Math.PI;for(let t=0;t<f;t+=.025){let e=Math.cos(n*t)*Math.cos(t),r=Math.cos(n*t)*Math.sin(t);a.push({x:e,y:r})}return a}static rossler(t,e,r,n,a,f,i){function s(t,e,r,n,a,f){return{x:-(e+r),y:t+n*e,z:a+r*(t-f)}}let o=t.x,c=t.y,u=.1,l=.1,h=.1,d=0,p=0,b=0,g=[];for(let t=0;t<r;t++){let t=s(u,l,h,n,a,f);d=u+i*t.x,p=l+i*t.y,b=h+i*t.z,g.push({x:d*e+o,y:p*e+c,z:b}),u=d,l=p,h=b}return g}static lorentz(t,e,r,n,a,f,i,s,o,c){function u(t,e,r,n,a,f){return{x:n*(e-t),y:t*(a-r)-e,z:t*e-f*r}}let l=0,h=0,d=0,p=[];for(let b=0;b<r;b++){let r=u(n,a,f,i,s,o);l=n+c*r.x,h=a+c*r.y,d=f+c*r.z,p.push({x:l*e+t.x,y:h*e+t.y,z:d}),n=l,a=h,f=d}return p}static attractor(t,e,r){let n=[],a=[],f=.1,i=.1,s=360%r.length;for(let t=0;t<r.length;t++)n[t]=(r.charCodeAt(t)-65-12)/10;a.push({x:t.x+50*Math.cos(s),y:t.y+58*Math.sin(s),r:0});for(let r=0;r<e;r++){let e=n[0]+n[1]*f+n[2]*f*f+n[3]*f*i+n[4]*i+n[5]*i*i,r=n[6]+n[7]*f+n[8]*f*f+n[9]*f*i+n[10]*i+n[11]*i*i,s=t.x*e+t.x,o=t.y*r+t.y;a.push({x:Math.abs(s),y:Math.abs(o)}),f=e,i=r}return a}static dejon(t,e,r,n,a,f=100,i=10){let s=[],o=1,c=1;for(let u=0;u<i;u++){let i=Math.sin(e*c)-Math.cos(r*o),u=Math.sin(n*o)-Math.cos(a*c);s.push({x:f*o+t[0]+f,y:f*c+t[1]-f}),o=i,c=u}return s}}},{}],5:[function(t,e,r){"use strict";t("chroma-js");class n{constructor(t,e={}){this.style=e,this.instrs=[],this.ops=[],this.parent=t,this.parent.children.push(this),this.ctx=t.ctx}clone(t={}){let e=JSON.parse(JSON.stringify(this.style));Object.keys(t).forEach(r=>e[r]=t[r]);let r=new n(this.parent,e);return delete r.style.hide,r.instrs=JSON.parse(JSON.stringify(this.instrs)),r.ops=JSON.parse(JSON.stringify(this.ops)),r}m(t,e){let r="object"==typeof t?t:{x:t,y:e};return this.instrs.push({instr:"m",p:r}),this}l(t,e){let r="object"==typeof t?t:{x:t,y:e};return this.instrs.push({instr:"l",p:r}),this}bezier(t,e,r){return this.instrs.push({instr:"b",c1:t,c2:e,p2:r}),this}arc(t,e,r){return this.instrs.push({instr:"a",p1:t,p2:e,r:r}),this}quad(t,e){return this.instrs.push({instr:"q",c:t,p:e}),this}center(){let t=0,e=0,r=0;return this.instrs.forEach(n=>{switch(n.instr){case"l":t+=n.p.x,e+=n.p.y,r+=1;break;case"q":t+=n.p.x,e+=n.p.y,t+=n.c.x,e+=n.c.y,r+=2;break;case"b":t+=n.c1.x,e+=n.c1.y,t+=n.c2.x,e+=n.c2.y,t+=n.p2.x,e+=n.p2.y,r+=3;break;case"a":t+=n.p1.x,e+=n.p1.y,t+=n.p2.x,e+=n.p2.y,r+=2}}),r&&(t/=r,e/=r),{x:t,y:e}}shadow(t=0,e="black",r=1,n=5,a=5){return this.ctx.shadowBlur=t,this.ctx.shadowColor=e,this.ctx.shadowOffsetX=n,this.ctx.shadowOffsetY=a,this.ctx.shadowAlpha=r,this}add(t,e){return{x:t.x+e.x,y:t.y+e.y}}moveTo(t,e){let r="object"==typeof t?t:{x:t,y:e},n=this.center(),a={x:r.x-n.x,y:r.y-n.y};return this.instrs.forEach((t,e)=>{switch(t.instr){case"m":case"l":case"arc":t.p=this.add(t.p,a);break;case"q":t.p=this.add(t.p,a),t.c=this.add(t.c,a);break;case"b":t.c1=this.add(t.c1,a),t.c2=this.add(t.c2,a),t.p2=this.add(t.p2,a);break;case"a":t.p1=this.add(t.p1,a),t.p2=this.add(t.p2,a)}}),this}rotate(t,e){let r=e||this.center();return r?(this.ops.push({op:"translate",values:[r.x,r.y]}),this.ops.push({op:"rotate",values:[t*Math.PI/180]}),this.ops.push({op:"translate",values:[-r.x,-r.y]})):this.ops.push({op:"rotate",values:[t*Math.PI/180]}),this}draw(t=1){this.ctx.save(),this.ops.forEach(e=>{"translate"===e.op?this.ctx.translate(e.values[0]*t,e.values[1]*t):this.ctx.rotate(e.values[0])}),this.style.filter&&(this.ctx.filter=this.style.filter),this.ctx.beginPath(),this.instrs.forEach(e=>{switch(e.instr){case"m":this.ctx.moveTo(e.p.x*t,e.p.y*t);break;case"l":this.ctx.lineTo(e.p.x*t,e.p.y*t);break;case"b":this.ctx.bezierCurveTo(e.c1.x*t,e.c1.y*t,e.c2.x*t,e.c2.y*t,e.p2.x*t,e.p2.y*t);break;case"a":this.ctx.arcTo(e.p1.x*t,e.p1.y*t,e.p2.x*t,e.p2.y*t,e.r);break;case"q":this.ctx.quadraticCurveTo(e.c.x*t,e.c.y*t,e.p.x*t,e.p.y*t);break;case"arc":this.ctx.arc(e.p.x*t,e.p.y*t,e.r,e.sa,e.ea,e.cw)}}),this.applyStyle()}applyStyle(){this.style.fill&&(this.ctx.globalAlpha=this.style.alpha||1,this.ctx.fillStyle=this.style.fill,this.ctx.fill()),this.ctx.globalAlpha=this.style.strokeAlpha||this.style.alpha||1,this.ctx.strokeStyle=this.style.stroke||"black",this.ctx.lineWidth=this.style.strokeWidth||1,this.ctx.stroke(),this.style.shadow&&(this.ctx.shadowColor=this.style.shadow,this.ctx.shadowOffsetX=10,this.ctx.shadowOffsetY=10),this.ctx.lineCap=this.style.lineCap||"butt",this.ctx.restore(),this.ctx.setTransform(1,0,0,1,0,0)}fromPoints(t,e,r=10,n=0){let a=e.x-t.x,f=e.y-t.y,i=Math.sqrt(a*a+f*f),s={x:t.x-n,y:t.y-r/2},o={x:t.x+i+n,y:t.y-r/2},c={x:t.x+i+n,y:t.y+r/2},u={x:t.x-n,y:t.y+r/2};this.m(s).l(o).l(c).l(u).l(s);let l=e.x-t.x,h=e.y-t.y,d=Math.atan2(h,l)*(180/Math.PI);return this.rotate(d,t),this}circle(t,e=10,r=0,n=2*Math.PI,a=!0){return this.instrs.push({instr:"arc",p:{x:0,y:0},r:e,sa:r,ea:n,cw:a}),this.moveTo(t),this}rect(t,e,r){return this.fromPoints({x:t.x,y:t.y+r/2},{x:t.x+e,y:t.y+r/2},r)}line(t,e){return this.ctx.beginPath(),this.m(t).l(e),this.applyStyle(),this}}e.exports=n},{"chroma-js":1}],6:[function(t,e,r){(function(r){let n=t("./Layout"),a=t("./Path"),f=t("./Parametrics"),i=t("./Grammar"),s=t("chroma-js");function o(t){console.log("Chalks:",t)}r.chroma=s;String.prototype.chroma=function(){return s(this.toString())},p5.Vector.prototype.radd=function(t,e){return createVector(this.x,this.y,this.z).add(random(t,e),random(t,e),random(t,e))},p5.Vector.prototype.rsub=function(t,e){return createVector(this.x,this.y,this.z).sub(random(t,e),random(t,e),random(t,e))},e.exports=class{constructor(t,e={}){this.start=Date.now(),this.scale=t.scale||1,this.width=t.width*this.scale||1e3,this.height=t.height*this.scale||1e3,this.p5canvas=createCanvas(this.width,this.height),this.canvas=document.getElementById("defaultCanvas0"),this.ctx=this.canvas.getContext("2d"),this.seed=t.seed?t.seed:(1e4*Math.random()).toString().substr(5,8),o("using seed="+this.seed),randomSeed(this.seed),this.children=[],this.drawBackground(this.width,this.height,e),this._modules()}_modules(){this.Layout=n,this.Path=a,this.Parametrics=f,this.Grammar=i}drawBackground(t,e,r){this.ctx.fillStyle=r.fill||"white",this.ctx.fillRect(0,0,t,e),this.ctx.fillStyle="black"}setStyle(t){this.drawBackground(this.width,this.height,t)}path(t){return new a(this,t)}lgrad(t,e,r){let n=this.ctx.createLinearGradient(0,0,1e3,1e3);return r.forEach(t=>{n.addColorStop(t[0],t[1])}),n}rgrad(t,e,r,n,a){let f=this.ctx.createRadialGradient(t.x,t.y,e,r.x,r.y,n);return a.forEach(t=>{f.addColorStop(t[0],t[1])}),f}draw(t=1,e){let r=t;for(;r--;)this.children.filter(t=>!t.style.hide).forEach(t=>t.draw(this.scale));o("ended ("+(Date.now()-this.start)/1e3+" secs)"),e&&saveCanvas(this.p5canvas,e,"png"),noLoop()}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./Grammar":2,"./Layout":3,"./Parametrics":4,"./Path":5,"chroma-js":1}]},{},[6])(6)});
